{"ast":null,"code":"import _classCallCheck from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport GpxFileGenerator from './GpxFileGenerator';\n\nvar GpxFileDownloader = function GpxFileDownloader() {\n  _classCallCheck(this, GpxFileDownloader);\n};\n\nGpxFileDownloader.download = function (locations) {\n  GpxFileGenerator.generate(locations).then(function (fileContent) {\n    return GpxFileDownloader._showDownloadDialog(fileContent);\n  });\n};\n\nGpxFileDownloader._showDownloadDialog = function (fileContent) {\n  var element = document.createElement('a');\n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(fileContent));\n  element.setAttribute('download', \"PlanYourTrip_\".concat(new Date().toISOString(), \".gpx\"));\n  element.style.display = 'none';\n  document.body.appendChild(element);\n  element.click();\n  document.body.removeChild(element);\n};\n\nexport { GpxFileDownloader as default };","map":{"version":3,"sources":["E:/priv/github/plan-your-trip/src/Common/GpxFileDownloader.js"],"names":["GpxFileGenerator","GpxFileDownloader","download","locations","generate","then","fileContent","_showDownloadDialog","element","document","createElement","setAttribute","encodeURIComponent","Date","toISOString","style","display","body","appendChild","click","removeChild"],"mappings":";AAAA,OAAOA,gBAAP,MAA6B,oBAA7B;;IAEqBC,iB;;;;AAAAA,iB,CAEZC,Q,GAAW,UAACC,SAAD,EAAe;AAC/BH,EAAAA,gBAAgB,CACfI,QADD,CACUD,SADV,EAECE,IAFD,CAEM,UAAAC,WAAW;AAAA,WALAL,iBAKI,CAAKM,mBAAL,CAAyBD,WAAzB,CAAJ;AAAA,GAFjB;AAGA,C;;AANiBL,iB,CAQZM,mB,GAAsB,UAACD,WAAD,EAAiB;AAC5C,MAAIE,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAd;AACAF,EAAAA,OAAO,CAACG,YAAR,CAAqB,MAArB,EAA6B,mCAAmCC,kBAAkB,CAACN,WAAD,CAAlF;AACAE,EAAAA,OAAO,CAACG,YAAR,CAAqB,UAArB,yBAAiD,IAAIE,IAAJ,GAAWC,WAAX,EAAjD;AAEAN,EAAAA,OAAO,CAACO,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAP,EAAAA,QAAQ,CAACQ,IAAT,CAAcC,WAAd,CAA0BV,OAA1B;AAEAA,EAAAA,OAAO,CAACW,KAAR;AAEAV,EAAAA,QAAQ,CAACQ,IAAT,CAAcG,WAAd,CAA0BZ,OAA1B;AACD,C;;SAnBkBP,iB","sourcesContent":["import GpxFileGenerator from './GpxFileGenerator';\r\n\r\nexport default class GpxFileDownloader {\r\n\r\n  static download = (locations) => {\r\n    GpxFileGenerator\r\n    .generate(locations)\r\n    .then(fileContent => this._showDownloadDialog(fileContent));\r\n   }\r\n\r\n  static _showDownloadDialog = (fileContent) => {\r\n    var element = document.createElement('a');\r\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(fileContent));\r\n    element.setAttribute('download', `PlanYourTrip_${new Date().toISOString()}.gpx`);\r\n  \r\n    element.style.display = 'none';\r\n    document.body.appendChild(element);\r\n  \r\n    element.click();\r\n  \r\n    document.body.removeChild(element);\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}