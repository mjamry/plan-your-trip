{"ast":null,"code":"import _toConsumableArray from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\src\\\\State\\\\LocationsState.js\";\nimport React, { useReducer, useContext, createContext } from 'react';\nimport store from 'store';\nvar EmptyState = {\n  locations: [],\n  locationSelectedOnMap: null,\n  isLoading: false\n};\nvar LocationsStateActions = {\n  addLocation: 'addLocation',\n  removeLocation: 'removeLocation',\n  editLocation: 'editLocation',\n  selectOnMap: 'selectOnMap',\n  removeAllLocations: 'removeAllLocations',\n  loadLocations: 'loadLocations'\n};\nvar LocationsStateContext = createContext();\n\nvar LocationsStateProvider = function LocationsStateProvider(_ref) {\n  var children = _ref.children,\n      reducerHook = _ref.reducerHook;\n  var value = reducerHook || useReducer(_defaultReducer, EmptyState);\n  return React.createElement(LocationsStateContext.Provider, {\n    value: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, children);\n};\n\nvar useLocationsState = function useLocationsState() {\n  return useContext(LocationsStateContext);\n};\n\nvar _storeLocations = function _storeLocations(state) {\n  store.set('locationsState', state);\n};\n\nvar _restoreLocations = function _restoreLocations() {\n  return store.get('locationsState', EmptyState);\n};\n\nvar _defaultReducer = function _defaultReducer(state, action) {\n  var newState = {};\n\n  switch (action.type) {\n    case LocationsStateActions.addLocation:\n      newState = _objectSpread({}, state, {\n        locations: [].concat(_toConsumableArray(state.locations), [action.data])\n      });\n      break;\n\n    case LocationsStateActions.removeLocation:\n      var updatedLocations = state.locations.filter(function (l) {\n        return l.id !== action.data.id;\n      }) || [];\n      newState = _objectSpread({}, state, {\n        locations: updatedLocations\n      });\n      break;\n\n    case LocationsStateActions.editLocation:\n      var editedItemIndex = state.locations.findIndex(function (l) {\n        return l.id === action.data.id;\n      });\n      state.locations[editedItemIndex] = action.data;\n      newState = _objectSpread({}, state, {\n        locations: _toConsumableArray(state.locations)\n      });\n      break;\n\n    case LocationsStateActions.selectOnMap:\n      newState = _objectSpread({}, state, {\n        locationSelectedOnMap: action.data\n      });\n      break;\n\n    case LocationsStateActions.removeAllLocations:\n      newState = _objectSpread({}, state, {\n        locations: []\n      });\n      break;\n\n    case LocationsStateActions.loadLocations:\n      newState = _objectSpread({}, state, {\n        locations: action.data\n      });\n      break;\n\n    default:\n      newState = state;\n      console.error(\"[LocationsStatus] Action: \\\"\".concat(action.type, \"\\\" was not defined.\"));\n  } //_storeLocations(newState);\n\n\n  return newState;\n};\n\nexport { EmptyState, LocationsStateActions, LocationsStateContext, LocationsStateProvider, useLocationsState, _defaultReducer };","map":{"version":3,"sources":["E:/priv/github/plan-your-trip/src/State/LocationsState.js"],"names":["React","useReducer","useContext","createContext","store","EmptyState","locations","locationSelectedOnMap","isLoading","LocationsStateActions","addLocation","removeLocation","editLocation","selectOnMap","removeAllLocations","loadLocations","LocationsStateContext","LocationsStateProvider","children","reducerHook","value","_defaultReducer","useLocationsState","_storeLocations","state","set","_restoreLocations","get","action","newState","type","data","updatedLocations","filter","l","id","editedItemIndex","findIndex","console","error"],"mappings":"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","sourcesContent":["import React, { useReducer, useContext, createContext } from 'react';\r\nimport store from 'store'\r\n\r\nconst EmptyState = {\r\n    locations: [],\r\n    locationSelectedOnMap: null,\r\n    isLoading: false\r\n}\r\n\r\nconst LocationsStateActions = {\r\n    addLocation: 'addLocation',\r\n    removeLocation: 'removeLocation',\r\n    editLocation: 'editLocation',\r\n    selectOnMap: 'selectOnMap',\r\n    removeAllLocations: 'removeAllLocations',\r\n    loadLocations: 'loadLocations'\r\n}\r\n\r\nconst LocationsStateContext = createContext();\r\n\r\nconst LocationsStateProvider = ({ children, reducerHook }) => {\r\n    const value = reducerHook || useReducer(_defaultReducer, EmptyState);\r\n    return (\r\n        <LocationsStateContext.Provider value={value}>\r\n            {children}\r\n        </LocationsStateContext.Provider>\r\n    )\r\n}\r\n\r\nvar useLocationsState = () => useContext(LocationsStateContext);\r\n\r\nvar _storeLocations = (state) => {\r\n    store.set('locationsState', state);\r\n}\r\n\r\nvar _restoreLocations = () => {\r\n    return store.get('locationsState', EmptyState);\r\n}\r\n\r\nvar _defaultReducer = (state, action) => {\r\n    var newState = {};\r\n\r\n    switch (action.type) {\r\n        case LocationsStateActions.addLocation:\r\n            newState = { ...state, locations: [...state.locations, action.data] };\r\n            break;\r\n        case LocationsStateActions.removeLocation:\r\n            var updatedLocations = state.locations.filter(l => l.id !== action.data.id) || [];\r\n            newState = { ...state, locations: updatedLocations };\r\n            break;\r\n        case LocationsStateActions.editLocation:\r\n            var editedItemIndex = state.locations.findIndex(l => l.id === action.data.id);\r\n            state.locations[editedItemIndex] = action.data;\r\n            newState = { ...state, locations: [...state.locations] };\r\n            break;\r\n        case LocationsStateActions.selectOnMap:\r\n            newState = { ...state, locationSelectedOnMap: action.data };\r\n            break;\r\n        case LocationsStateActions.removeAllLocations:\r\n            newState = { ...state, locations: [] };\r\n            break;\r\n        case LocationsStateActions.loadLocations:\r\n            newState = { ...state, locations: action.data };\r\n            break;\r\n        default:\r\n            newState = state;\r\n            console.error(`[LocationsStatus] Action: \"${action.type}\" was not defined.`);\r\n    }\r\n\r\n    //_storeLocations(newState);\r\n    return newState;\r\n}\r\n\r\nexport { EmptyState, LocationsStateActions, LocationsStateContext, LocationsStateProvider, useLocationsState, _defaultReducer }"]},"metadata":{},"sourceType":"module"}