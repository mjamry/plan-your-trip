{"ast":null,"code":"import _objectDestructuringEmpty from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectDestructuringEmpty\";\nimport _slicedToArray from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\src\\\\components\\\\Lists\\\\ListView.js\";\nimport React, { useEffect, useState } from 'react';\nimport useLoggerService from '../../Services/Diagnostics/LoggerService';\nimport { useLocationsListsState, LocationsListsStateActions, LocationListViewType } from '../../State/LocationsListsState';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport GpxFileDownloader from '../../Common/GpxFileDownloader';\nimport { useLocationsState, LocationsStateActions } from '../../State/LocationsState';\nimport { useModalState, ModalStateAction, ModalTypes } from '../../State/ModalStateProvider';\n\nvar ListViewMenuItem = function ListViewMenuItem(_ref) {\n  var icon = _ref.icon,\n      action = _ref.action,\n      title = _ref.title;\n  return React.createElement(\"div\", {\n    className: \"list-view-menu-item\",\n    title: title,\n    onClick: function onClick() {\n      action();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: icon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }));\n};\n\nvar ListView = function ListView(props) {\n  var _useLocationsListsSta = useLocationsListsState(),\n      _useLocationsListsSta2 = _slicedToArray(_useLocationsListsSta, 2),\n      listState = _useLocationsListsSta2[0],\n      dispatchList = _useLocationsListsSta2[1];\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      lists = _useState2[0],\n      setLists = _useState2[1];\n\n  var logger = useLoggerService();\n\n  var _useLocationsState = useLocationsState(),\n      _useLocationsState2 = _slicedToArray(_useLocationsState, 2),\n      locations = _useLocationsState2[0].locations,\n      dispatchLocations = _useLocationsState2[1];\n\n  var _useModalState = useModalState(),\n      _useModalState2 = _slicedToArray(_useModalState, 2);\n\n  _objectDestructuringEmpty(_useModalState2[0]);\n\n  var dispatchModal = _useModalState2[1];\n  useEffect(function () {\n    fetch(\"http://localhost:5000/lists\").then(function (response) {\n      if (response.status !== 200) {\n        logger.error(\"[ListView] Cannot fetch lists. Error: \".concat(response.statusText, \". Code: \").concat(response.status));\n      } else {\n        response.json().then(function (data) {\n          if (data) {\n            logger.info(\"[ListView] Successfully loaded \".concat(data.length, \" lists\"));\n            storeLocation(data);\n          }\n        });\n      }\n    });\n  }, []);\n\n  var storeLocation = function storeLocation(data) {\n    setLists(data);\n  };\n\n  var selectList = function selectList(listId) {\n    logger.debug(\"Selected list -> Id: \".concat(listId));\n    dispatchList({\n      type: LocationsListsStateActions.selectList,\n      data: listId\n    });\n  };\n\n  var renderLists = function renderLists() {\n    if (lists) return lists.map(function (list) {\n      return React.createElement(\"option\", {\n        className: \"list-view-item\",\n        onClick: function onClick() {\n          return selectList(list.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, list.name);\n    });\n    return '';\n  };\n\n  return React.createElement(\"div\", {\n    className: \"list-view-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-view-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-view-details-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-view-dropdown\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, renderLists())), React.createElement(\"div\", {\n    className: \"list-view-description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"this is a list description\")), React.createElement(\"div\", {\n    className: \"list-view-details-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-view-details-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"created on:\"), React.createElement(\"div\", {\n    className: \"list-view-details-data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"01/01/2000\")), React.createElement(\"div\", {\n    className: \"list-view-details-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-view-details-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"last updated on:\"), React.createElement(\"div\", {\n    className: \"list-view-details-data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"01/01/2000\")), React.createElement(\"div\", {\n    className: \"list-view-details-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-view-details-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"number of items:\"), React.createElement(\"div\", {\n    className: \"list-view-details-data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"11\")), React.createElement(\"div\", {\n    className: \"list-view-details-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-view-details-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"private:\"), React.createElement(\"div\", {\n    className: \"list-view-details-data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"yes\"))), React.createElement(\"div\", {\n    className: \"list-view-menu-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(ListViewMenuItem, {\n    icon: \"file-download\",\n    title: \"download locations\",\n    action: function action() {\n      return GpxFileDownloader.download(locations);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"list-view-menu-item\",\n    title: \"download locations\",\n    onClick: function onClick() {\n      return GpxFileDownloader.download(locations);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: \"file-download\",\n    className: \"location-delete fa\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"list-view-menu-item\",\n    title: \"add new location\",\n    onClick: function onClick() {\n      return dispatchModal({\n        type: ModalStateAction.show,\n        modalType: ModalTypes.addNewLocationSelect\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: \"search-plus\",\n    className: \"fa\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"list-view-menu-item\",\n    title: \"edit list\",\n    onClick: function onClick() {\n      alert(\"TODO\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: \"edit\",\n    className: \"location-row-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"list-view-menu-item\",\n    title: \"remove list\",\n    onClick: function onClick() {\n      return dispatchLocations({\n        type: LocationsStateActions.removeAllLocations\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: \"trash-alt\",\n    className: \"location-delete\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"list-view-menu-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"list-view-menu-item\",\n    title: \"show as list\",\n    onClick: function onClick() {\n      return dispatchList({\n        type: LocationsListsStateActions.setView,\n        data: LocationListViewType.list\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: \"th-list\",\n    className: \"fa\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"list-view-menu-item\",\n    title: \"show as grid\",\n    onClick: function onClick() {\n      return dispatchList({\n        type: LocationsListsStateActions.setView,\n        data: LocationListViewType.grid\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: \"th-large\",\n    className: \"fa\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }))));\n  return React.createElement(\"div\", {\n    className: \"list-view-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \" \", renderLists(), \"  \");\n};\n\nexport default ListView;","map":{"version":3,"sources":["E:/priv/github/plan-your-trip/src/components/Lists/ListView.js"],"names":["React","useEffect","useState","useLoggerService","useLocationsListsState","LocationsListsStateActions","LocationListViewType","FontAwesomeIcon","GpxFileDownloader","useLocationsState","LocationsStateActions","useModalState","ModalStateAction","ModalTypes","ListViewMenuItem","icon","action","title","ListView","props","listState","dispatchList","lists","setLists","logger","locations","dispatchLocations","dispatchModal","fetch","then","response","status","error","statusText","json","data","info","length","storeLocation","selectList","listId","debug","type","renderLists","map","list","id","name","download","show","modalType","addNewLocationSelect","alert","removeAllLocations","setView","grid"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,gBAAP,MAA6B,0CAA7B;AACA,SAASC,sBAAT,EAAiCC,0BAAjC,EAA6DC,oBAA7D,QAAyF,iCAAzF;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,iBAAP,MAA8B,gCAA9B;AACA,SAASC,iBAAT,EAA4BC,qBAA5B,QAAyD,4BAAzD;AACA,SAASC,aAAT,EAAwBC,gBAAxB,EAA0CC,UAA1C,QAA4D,gCAA5D;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAA2B;AAAA,MAAzBC,IAAyB,QAAzBA,IAAyB;AAAA,MAAnBC,MAAmB,QAAnBA,MAAmB;AAAA,MAAXC,KAAW,QAAXA,KAAW;AAChD,SACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,KAAK,EAAEA,KAA5C;AAAmD,IAAA,OAAO,EAAE,mBAAI;AAACD,MAAAA,MAAM;AAAG,KAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AACI,IAAA,IAAI,EAAED,IADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH,CAND;;AASA,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA,8BACUf,sBAAsB,EADhC;AAAA;AAAA,MACjBgB,SADiB;AAAA,MACNC,YADM;;AAAA,kBAEEnB,QAAQ,EAFV;AAAA;AAAA,MAEjBoB,KAFiB;AAAA,MAEVC,QAFU;;AAGxB,MAAMC,MAAM,GAAGrB,gBAAgB,EAA/B;;AAHwB,2BAKeM,iBAAiB,EALhC;AAAA;AAAA,MAKlBgB,SALkB,0BAKlBA,SALkB;AAAA,MAKNC,iBALM;;AAAA,uBAMEf,aAAa,EANf;AAAA;;AAAA;;AAAA,MAMfgB,aANe;AAQxB1B,EAAAA,SAAS,CAAC,YAAM;AACZ2B,IAAAA,KAAK,+BAAL,CACKC,IADL,CACU,UAAAC,QAAQ,EAAI;AACd,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBP,QAAAA,MAAM,CAACQ,KAAP,iDAAsDF,QAAQ,CAACG,UAA/D,qBAAoFH,QAAQ,CAACC,MAA7F;AACH,OAFD,MAGK;AACDD,QAAAA,QAAQ,CAACI,IAAT,GACKL,IADL,CACU,UAAAM,IAAI,EAAI;AACV,cAAIA,IAAJ,EAAU;AACNX,YAAAA,MAAM,CAACY,IAAP,0CAA8CD,IAAI,CAACE,MAAnD;AACAC,YAAAA,aAAa,CAACH,IAAD,CAAb;AACH;AAEJ,SAPL;AAQH;AACJ,KAfL;AAgBH,GAjBQ,EAiBN,EAjBM,CAAT;;AAmBA,MAAIG,aAAa,GAAG,SAAhBA,aAAgB,CAACH,IAAD,EAAU;AAC1BZ,IAAAA,QAAQ,CAACY,IAAD,CAAR;AACH,GAFD;;AAIA,MAAII,UAAU,GAAG,SAAbA,UAAa,CAACC,MAAD,EAAY;AACzBhB,IAAAA,MAAM,CAACiB,KAAP,gCAAqCD,MAArC;AACAnB,IAAAA,YAAY,CAAC;AAACqB,MAAAA,IAAI,EAAErC,0BAA0B,CAACkC,UAAlC;AAA8CJ,MAAAA,IAAI,EAAEK;AAApD,KAAD,CAAZ;AACH,GAHD;;AAKA,MAAIG,WAAW,GAAG,SAAdA,WAAc,GAAM;AACpB,QAAIrB,KAAJ,EACI,OAAOA,KAAK,CAACsB,GAAN,CAAU,UAACC,IAAD;AAAA,aACb;AAAQ,QAAA,SAAS,EAAC,gBAAlB;AAAmC,QAAA,OAAO,EAAE;AAAA,iBAAIN,UAAU,CAACM,IAAI,CAACC,EAAN,CAAd;AAAA,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsED,IAAI,CAACE,IAA3E,CADa;AAAA,KAAV,CAAP;AAIJ,WAAO,EAAP;AACH,GAPD;;AASA,SACA;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,WAAW,EADhB,CADJ,CADA,EAMA;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCANA,CADJ,EASI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CATJ,EAaI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CAbJ,EAiBI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CAjBJ,EAqBI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFJ,CArBJ,CADJ,EA4BI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,gBAAD;AAAkB,IAAA,IAAI,EAAC,eAAvB;AAAuC,IAAA,KAAK,EAAC,oBAA7C;AAAkE,IAAA,MAAM,EAAE;AAAA,aAAInC,iBAAiB,CAACwC,QAAlB,CAA2BvB,SAA3B,CAAJ;AAAA,KAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,KAAK,EAAC,oBAA3C;AAAgE,IAAA,OAAO,EAAE;AAAA,aAAIjB,iBAAiB,CAACwC,QAAlB,CAA2BvB,SAA3B,CAAJ;AAAA,KAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AACI,IAAA,IAAI,EAAC,eADT;AAEI,IAAA,SAAS,EAAC,oBAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,EAOI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,KAAK,EAAC,kBAA3C;AAA8D,IAAA,OAAO,EAAE;AAAA,aAAIE,aAAa,CAAC;AAACe,QAAAA,IAAI,EAAE9B,gBAAgB,CAACqC,IAAxB;AAA8BC,QAAAA,SAAS,EAAErC,UAAU,CAACsC;AAApD,OAAD,CAAjB;AAAA,KAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AACI,IAAA,IAAI,EAAC,aADT;AAEI,IAAA,SAAS,EAAC,IAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAPJ,EAYI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,KAAK,EAAC,WAA3C;AAAuD,IAAA,OAAO,EAAE,mBAAI;AAACC,MAAAA,KAAK,CAAC,MAAD,CAAL;AAAc,KAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,SAAS,EAAC,qBAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAZJ,EAiBI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,KAAK,EAAC,aAA3C;AAAyD,IAAA,OAAO,EAAE;AAAA,aAAI1B,iBAAiB,CAAC;AAACgB,QAAAA,IAAI,EAAEhC,qBAAqB,CAAC2C;AAA7B,OAAD,CAArB;AAAA,KAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AACI,IAAA,IAAI,EAAC,WADT;AAEI,IAAA,SAAS,EAAC,iBAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAjBJ,CA5BJ,EAmDI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAsC,IAAA,KAAK,EAAC,cAA5C;AAA2D,IAAA,OAAO,EAAE;AAAA,aAAIhC,YAAY,CAAC;AAACqB,QAAAA,IAAI,EAAErC,0BAA0B,CAACiD,OAAlC;AAA2CnB,QAAAA,IAAI,EAAE7B,oBAAoB,CAACuC;AAAtE,OAAD,CAAhB;AAAA,KAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AACI,IAAA,IAAI,EAAC,SADT;AAEI,IAAA,SAAS,EAAC,IAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAMI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAqC,IAAA,KAAK,EAAC,cAA3C;AAA0D,IAAA,OAAO,EAAE;AAAA,aAAIxB,YAAY,CAAC;AAACqB,QAAAA,IAAI,EAAErC,0BAA0B,CAACiD,OAAlC;AAA2CnB,QAAAA,IAAI,EAAE7B,oBAAoB,CAACiD;AAAtE,OAAD,CAAhB;AAAA,KAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,SAAS,EAAC,IAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CANJ,CAnDJ,CADA;AAkEA,SAAQ;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAuCZ,WAAW,EAAlD,OAAR;AACH,CAhHD;;AAmHA,eAAezB,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport useLoggerService from '../../Services/Diagnostics/LoggerService'\r\nimport { useLocationsListsState, LocationsListsStateActions, LocationListViewType } from '../../State/LocationsListsState'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport GpxFileDownloader from '../../Common/GpxFileDownloader'\r\nimport { useLocationsState, LocationsStateActions } from '../../State/LocationsState'\r\nimport { useModalState, ModalStateAction, ModalTypes } from '../../State/ModalStateProvider'\r\n\r\nconst ListViewMenuItem = ({icon, action, title}) => {\r\n    return (\r\n        <div className=\"list-view-menu-item\" title={title} onClick={()=>{action()}}>\r\n            <FontAwesomeIcon \r\n                icon={icon}  />\r\n        </div>)\r\n}\r\n\r\n\r\nconst ListView = (props) => {\r\n    const [listState, dispatchList] = useLocationsListsState();\r\n    const [lists, setLists] = useState();\r\n    const logger = useLoggerService();\r\n    \r\n  const [{locations}, dispatchLocations] = useLocationsState();\r\n  const [{}, dispatchModal] = useModalState();\r\n\r\n    useEffect(() => {\r\n        fetch(`http://localhost:5000/lists`)\r\n            .then(response => {\r\n                if (response.status !== 200) {\r\n                    logger.error(`[ListView] Cannot fetch lists. Error: ${response.statusText}. Code: ${response.status}`)\r\n                }\r\n                else {\r\n                    response.json()\r\n                        .then(data => {\r\n                            if (data) {\r\n                                logger.info(`[ListView] Successfully loaded ${data.length} lists`)\r\n                                storeLocation(data);\r\n                            }\r\n\r\n                        })\r\n                }\r\n            })\r\n    }, [])\r\n\r\n    var storeLocation = (data) => {\r\n        setLists(data);\r\n    }\r\n\r\n    var selectList = (listId) => {\r\n        logger.debug(`Selected list -> Id: ${listId}`)\r\n        dispatchList({type: LocationsListsStateActions.selectList, data: listId});\r\n    }\r\n\r\n    var renderLists = () => {\r\n        if (lists)\r\n            return lists.map((list) => (\r\n                <option className=\"list-view-item\" onClick={()=>selectList(list.id)}>{list.name}</option>\r\n            ))\r\n\r\n        return ''\r\n    }\r\n\r\n    return (\r\n    <div className=\"list-view-container\">\r\n        <div className=\"list-view-details\">\r\n            <div className=\"list-view-details-item\">\r\n            <div className=\"list-view-dropdown\">\r\n                <select>\r\n                    {renderLists()}\r\n                </select>\r\n            </div>\r\n            <div className=\"list-view-description\">this is a list description</div>\r\n            </div>\r\n            <div className=\"list-view-details-item\">\r\n                <div className=\"list-view-details-name\">created on:</div>\r\n                <div className=\"list-view-details-data\">01/01/2000</div>\r\n            </div>\r\n            <div className=\"list-view-details-item\">\r\n                <div className=\"list-view-details-name\">last updated on:</div>\r\n                <div className=\"list-view-details-data\">01/01/2000</div>\r\n            </div>\r\n            <div className=\"list-view-details-item\">\r\n                <div className=\"list-view-details-name\">number of items:</div>\r\n                <div className=\"list-view-details-data\">11</div>\r\n            </div>\r\n            <div className=\"list-view-details-item\">\r\n                <div className=\"list-view-details-name\">private:</div>\r\n                <div className=\"list-view-details-data\">yes</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"list-view-menu-container\">\r\n            <ListViewMenuItem icon=\"file-download\" title=\"download locations\" action={()=>GpxFileDownloader.download(locations)} />\r\n            <div className=\"list-view-menu-item\" title=\"download locations\" onClick={()=>GpxFileDownloader.download(locations)}>\r\n                <FontAwesomeIcon \r\n                    icon=\"file-download\" \r\n                    className=\"location-delete fa\" />\r\n            </div>\r\n            <div className=\"list-view-menu-item\" title=\"add new location\" onClick={()=>dispatchModal({type: ModalStateAction.show, modalType: ModalTypes.addNewLocationSelect})}>\r\n                <FontAwesomeIcon\r\n                    icon=\"search-plus\"\r\n                    className=\"fa\"/>\r\n            </div>\r\n            <div className=\"list-view-menu-item\" title=\"edit list\" onClick={()=>{alert(\"TODO\")}}>\r\n                <FontAwesomeIcon \r\n                    icon=\"edit\" \r\n                    className=\"location-row-button\" />\r\n            </div>\r\n            <div className=\"list-view-menu-item\" title=\"remove list\" onClick={()=>dispatchLocations({type: LocationsStateActions.removeAllLocations})}>\r\n                <FontAwesomeIcon \r\n                    icon=\"trash-alt\"  \r\n                    className=\"location-delete\"/>\r\n            </div>\r\n        </div>\r\n        <div className=\"list-view-menu-container\">\r\n            <div className=\"list-view-menu-item\"  title=\"show as list\" onClick={()=>dispatchList({type: LocationsListsStateActions.setView, data: LocationListViewType.list})}>\r\n                <FontAwesomeIcon \r\n                    icon='th-list' \r\n                    className='fa'/>\r\n            </div>\r\n            <div className=\"list-view-menu-item\" title=\"show as grid\" onClick={()=>dispatchList({type: LocationsListsStateActions.setView, data: LocationListViewType.grid})}>\r\n                <FontAwesomeIcon \r\n                    icon='th-large' \r\n                    className='fa'/>\r\n            </div>\r\n        </div>\r\n    </div>)\r\n\r\n    return (<div className=\"list-view-container\"> {renderLists()}  </div>)\r\n}\r\n\r\n\r\nexport default ListView;"]},"metadata":{},"sourceType":"module"}