{"ast":null,"code":"import _objectDestructuringEmpty from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectDestructuringEmpty\";\nimport _slicedToArray from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\src\\\\components\\\\modals\\\\LocationDetailsForm\\\\LocationDetailsForm.js\";\nimport React, { useEffect } from 'react';\nimport { useLocationFormState, LocationFormStateActions, LocationFormStateProvider } from './LocationDetailsFormState';\nimport ModalHeader from '../ModalHeader';\nimport StepsCoordinator, { FirstStep, LastStep } from './Steps/StepsCoordinator';\nexport var useLocationFormBuilder = function useLocationFormBuilder() {\n  var build = function build(_ref) {\n    var title = _ref.title,\n        location = _ref.location,\n        onSubmit = _ref.onSubmit,\n        onCancel = _ref.onCancel;\n    return {\n      header: React.createElement(ModalHeader, {\n        title: title,\n        onCancel: onCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 10\n        },\n        __self: this\n      }),\n      body: React.createElement(LocationDetailsFormBody, {\n        location: location,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }),\n      footer: React.createElement(LocationDetailsFooter, {\n        onSubmit: onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }),\n      state: LocationFormStateProvider\n    };\n  };\n\n  return build;\n};\n\nvar LocationDetailsFooter = function LocationDetailsFooter(_ref2) {\n  var onSubmit = _ref2.onSubmit;\n\n  var _useLocationFormState = useLocationFormState(),\n      _useLocationFormState2 = _slicedToArray(_useLocationFormState, 1),\n      formState = _useLocationFormState2[0];\n\n  var coordinator = StepsCoordinator();\n\n  var renderPrevious = function renderPrevious() {\n    if (formState.step > FirstStep) {\n      return React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn\",\n        onClick: function onClick() {\n          return coordinator.previous();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Previous\");\n    }\n  };\n\n  var renderNext = function renderNext() {\n    if (formState.step < LastStep) {\n      return React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn\",\n        onClick: function onClick() {\n          return coordinator.next();\n        },\n        disabled: !coordinator.canNext(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Next\");\n    }\n  };\n\n  var renderSubmit = function renderSubmit() {\n    if (formState.step === LastStep) {\n      return React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        onClick: function onClick() {\n          return onSubmit(formState.location);\n        },\n        disabled: !coordinator.canNext(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Save\");\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"location-edit-form-buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, renderPrevious(), renderNext(), renderSubmit());\n};\n\nvar LocationDetailsFormBody = function LocationDetailsFormBody(props) {\n  var _useLocationFormState3 = useLocationFormState(),\n      _useLocationFormState4 = _slicedToArray(_useLocationFormState3, 2);\n\n  _objectDestructuringEmpty(_useLocationFormState4[0]);\n\n  var dispatchFormState = _useLocationFormState4[1]; //setup state values\n\n  useEffect(function () {\n    dispatchFormState({\n      type: LocationFormStateActions.updateLocation,\n      data: props.location\n    });\n  }, []);\n\n  var renderStep = function renderStep() {\n    return renderStepView(StepsCoordinator().getCurrentView());\n  };\n\n  var renderStepView = function renderStepView(View, props) {\n    return React.createElement(View, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"location-edit-form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, renderStep());\n};","map":{"version":3,"sources":["E:/priv/github/plan-your-trip/src/components/modals/LocationDetailsForm/LocationDetailsForm.js"],"names":["React","useEffect","useLocationFormState","LocationFormStateActions","LocationFormStateProvider","ModalHeader","StepsCoordinator","FirstStep","LastStep","useLocationFormBuilder","build","title","location","onSubmit","onCancel","header","body","footer","state","LocationDetailsFooter","formState","coordinator","renderPrevious","step","previous","renderNext","next","canNext","renderSubmit","LocationDetailsFormBody","props","dispatchFormState","type","updateLocation","data","renderStep","renderStepView","getCurrentView","View"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport { useLocationFormState, LocationFormStateActions, LocationFormStateProvider } from './LocationDetailsFormState'\r\nimport ModalHeader from '../ModalHeader'\r\nimport StepsCoordinator, {FirstStep, LastStep} from './Steps/StepsCoordinator'\r\n\r\nexport const useLocationFormBuilder = () => {\r\n    \r\n    var build = ({title, location, onSubmit, onCancel}) => {\r\n        return {\r\n            header: <ModalHeader title={title} onCancel={onCancel}/>,\r\n            body: \r\n                    <LocationDetailsFormBody location={location}></LocationDetailsFormBody>,\r\n            footer: \r\n                    <LocationDetailsFooter onSubmit={onSubmit}></LocationDetailsFooter>,\r\n            state: LocationFormStateProvider\r\n        }\r\n    }\r\n\r\n    return build;\r\n}\r\n\r\nconst LocationDetailsFooter = ({onSubmit}) => {\r\n    const [formState] = useLocationFormState();\r\n    const coordinator = StepsCoordinator();\r\n\r\n    var renderPrevious = () => {\r\n        if(formState.step > FirstStep){\r\n            return (\r\n                <button \r\n                    type=\"button\" \r\n                    className=\"btn\"     \r\n                    onClick={() => coordinator.previous()}>\r\n                Previous\r\n                </button>\r\n            )\r\n        }\r\n    }\r\n\r\n    var renderNext = () => {\r\n        if(formState.step < LastStep){\r\n            return (\r\n                <button \r\n                    type=\"button\" \r\n                    className=\"btn\" \r\n                    onClick={() => coordinator.next()}\r\n                    disabled={!coordinator.canNext()}>\r\n                Next</button>\r\n            )\r\n        }\r\n    }\r\n\r\n    var renderSubmit = () => {\r\n        if(formState.step === LastStep){\r\n            return (\r\n                <button \r\n                    type=\"button\" \r\n                    className=\"btn btn-primary\" \r\n                    onClick={() => \r\n                        onSubmit(formState.location)}\r\n                    disabled={!coordinator.canNext()}>\r\n                Save</button>\r\n            )\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"location-edit-form-buttons\">\r\n            {renderPrevious()}{renderNext()}{renderSubmit()}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst LocationDetailsFormBody = (props) => {\r\n    const [{}, dispatchFormState] = useLocationFormState();\r\n\r\n    //setup state values\r\n    useEffect(()=>{\r\n        dispatchFormState({type: LocationFormStateActions.updateLocation, data: props.location});\r\n    }, [])\r\n\r\n    var renderStep = () => {\r\n        return renderStepView(StepsCoordinator().getCurrentView());\r\n    }\r\n\r\n    var renderStepView = (View, props) => {\r\n        return <View {...props}/>\r\n    }\r\n\r\n    return(\r\n        <div className=\"location-edit-form-container\">\r\n            {renderStep()}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}