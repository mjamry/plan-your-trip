{"ast":null,"code":"import _objectDestructuringEmpty from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectDestructuringEmpty\";\nimport _slicedToArray from \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\priv\\\\github\\\\plan-your-trip\\\\src\\\\components\\\\LocationsDataDownloader.js\";\nimport React, { useEffect } from 'react';\nimport { useLocationsState, LocationsStateActions } from '../State/LocationsState';\nimport { useLocationsListsState, LocationsListsStateActions } from '../State/LocationsListsState';\nimport useLoggerService from '../Services/Diagnostics/LoggerService';\n\nvar LocationsDataDownloader = function LocationsDataDownloader() {\n  var _useLocationsState = useLocationsState(),\n      _useLocationsState2 = _slicedToArray(_useLocationsState, 2);\n\n  _objectDestructuringEmpty(_useLocationsState2[0]);\n\n  var dispatchLocations = _useLocationsState2[1];\n\n  var _useLocationsListsSta = useLocationsListsState(),\n      _useLocationsListsSta2 = _slicedToArray(_useLocationsListsSta, 2),\n      selectedListId = _useLocationsListsSta2[0].selectedListId,\n      dispatchLists = _useLocationsListsSta2[1];\n\n  var logger = useLoggerService();\n  useEffect(function () {\n    fetch(\"http://localhost:50000/Locations/list/\".concat(selectedListId)).then(function (response) {\n      if (response.status !== 200) {\n        logger.error(\"[LocationsDataDownloader] Cannot fetch locations. Error: \".concat(response.statusText, \". Code: \").concat(response.status));\n      } else {\n        response.json().then(function (data) {\n          if (data) {\n            logger.info(\"[LocationsDataDownloader] Successfully loaded \".concat(data.length, \" locations\"));\n            storeLocation(data);\n          }\n        });\n      }\n    });\n  }, [selectedListId]);\n\n  var storeLocation = function storeLocation(locations) {\n    dispatchLocations({\n      type: LocationsStateActions.loadLocations,\n      data: locations\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  });\n};\n\nexport default LocationsDataDownloader;","map":{"version":3,"sources":["E:/priv/github/plan-your-trip/src/components/LocationsDataDownloader.js"],"names":["React","useEffect","useLocationsState","LocationsStateActions","useLocationsListsState","LocationsListsStateActions","useLoggerService","LocationsDataDownloader","dispatchLocations","selectedListId","dispatchLists","logger","fetch","then","response","status","error","statusText","json","data","info","length","storeLocation","locations","type","loadLocations"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,iBAAT,EAA4BC,qBAA5B,QAAyD,yBAAzD;AAEA,SAASC,sBAAT,EAAiCC,0BAAjC,QAAmE,8BAAnE;AACA,OAAOC,gBAAP,MAA6B,uCAA7B;;AAEA,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AAAA,2BACFL,iBAAiB,EADf;AAAA;;AAAA;;AAAA,MACvBM,iBADuB;;AAAA,8BAEQJ,sBAAsB,EAF9B;AAAA;AAAA,MAE1BK,cAF0B,6BAE1BA,cAF0B;AAAA,MAETC,aAFS;;AAIlC,MAAIC,MAAM,GAAGL,gBAAgB,EAA7B;AAEAL,EAAAA,SAAS,CAAC,YAAM;AACZW,IAAAA,KAAK,iDAA0CH,cAA1C,EAAL,CACKI,IADL,CACU,UAAAC,QAAQ,EAAI;AACd,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBJ,QAAAA,MAAM,CAACK,KAAP,oEAAyEF,QAAQ,CAACG,UAAlF,qBAAuGH,QAAQ,CAACC,MAAhH;AACH,OAFD,MAGK;AACDD,QAAAA,QAAQ,CAACI,IAAT,GACKL,IADL,CACU,UAAAM,IAAI,EAAI;AACV,cAAIA,IAAJ,EAAU;AACNR,YAAAA,MAAM,CAACS,IAAP,yDAA6DD,IAAI,CAACE,MAAlE;AACAC,YAAAA,aAAa,CAACH,IAAD,CAAb;AACH;AAEJ,SAPL;AAQH;AACJ,KAfL;AAgBH,GAjBQ,EAiBN,CAACV,cAAD,CAjBM,CAAT;;AAmBA,MAAIa,aAAa,GAAG,SAAhBA,aAAgB,CAACC,SAAD,EAAe;AAC/Bf,IAAAA,iBAAiB,CAAC;AACdgB,MAAAA,IAAI,EAAErB,qBAAqB,CAACsB,aADd;AAEdN,MAAAA,IAAI,EAAEI;AAFQ,KAAD,CAAjB;AAIH,GALD;;AAOA,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAR;AACH,CAjCD;;AAmCA,eAAehB,uBAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useLocationsState, LocationsStateActions } from '../State/LocationsState'\r\n\r\nimport { useLocationsListsState, LocationsListsStateActions } from '../State/LocationsListsState'\r\nimport useLoggerService from '../Services/Diagnostics/LoggerService'\r\n\r\nconst LocationsDataDownloader = () => {\r\n    const [{}, dispatchLocations] = useLocationsState();\r\n    const [{selectedListId}, dispatchLists] = useLocationsListsState();\r\n\r\n    var logger = useLoggerService();\r\n\r\n    useEffect(() => {\r\n        fetch(`http://localhost:50000/Locations/list/${selectedListId}`)\r\n            .then(response => {\r\n                if (response.status !== 200) {\r\n                    logger.error(`[LocationsDataDownloader] Cannot fetch locations. Error: ${response.statusText}. Code: ${response.status}`)\r\n                }\r\n                else {\r\n                    response.json()\r\n                        .then(data => {\r\n                            if (data) {\r\n                                logger.info(`[LocationsDataDownloader] Successfully loaded ${data.length} locations`)\r\n                                storeLocation(data);\r\n                            }\r\n\r\n                        })\r\n                }\r\n            })\r\n    }, [selectedListId])\r\n\r\n    var storeLocation = (locations) => {\r\n        dispatchLocations({\r\n            type: LocationsStateActions.loadLocations,\r\n            data: locations\r\n        })\r\n    }\r\n\r\n    return (<div></div>);\r\n}\r\n\r\nexport default LocationsDataDownloader;"]},"metadata":{},"sourceType":"module"}