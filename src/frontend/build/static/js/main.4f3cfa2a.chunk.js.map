{"version":3,"sources":["Common/GpxFileGenerator.js","Common/GpxFileDownloader.js","State/LocationsState.js","State/ModalStateProvider.js","components/Locations/LocationsViewMenu.js","components/Locations/LocationButtons.js","components/Locations/LocationAttractivnessButton.js","components/Locations/LocationGridItem.js","components/Locations/LocationListItem.js","components/Locations/LocationsView.js","Common/CoordinatesValidator.js","components/MapView/MapView.js","components/MapView/LocationsMapView.js","components/Header.js","components/modals/Modal.js","components/MapView/LocationFormMapView.js","components/modals/LocationDetailsForm/Steps/StepsCoordinator.js","components/modals/LocationDetailsForm/Steps/Steps.js","components/modals/LocationDetailsForm/LocationDetailsFormState.js","components/modals/ModalHeader.js","components/modals/LocationDetailsForm/LocationDetailsForm.js","components/Locations/LocationdDetailsDto.js","Common/LanguageProvider.js","Common/WikipediaAPIWrapper.js","components/Search/SearchResult.js","components/Search/Search.js","components/modals/AddNewLocationSelect.js","components/modals/ModalContainer.js","components/LocationsDataDownloader.js","App.js","serviceWorker.js","index.js"],"names":["Creator","GpxHeader","concat","GpxHelper","Date","toISOString","location","coordinates","lat","lon","name","attractivness","description","GpxFileGenerator","locations","Promise","resolve","reject","fileContent","index","getMetadata","getWaypoint","GpxFileDownloader","download","generate","then","_showDownloadDialog","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","EmptyState","locationSelectedOnMap","LocationsStateActions","LocationsStateContext","createContext","LocationsStateProvider","_ref","children","react_default","a","Provider","value","useReducer","_reducer","_restoreLocations","useLocationsState","useContext","store","get","state","action","newState","type","Object","objectSpread","toConsumableArray","data","updatedLocations","filter","l","id","editedItemIndex","findIndex","console","error","set","_storeLocations","ModalTypes","ModalStateAction","ModalState","isVisible","modalType","ModalContext","ModalStateProvider","useModalState","LocationsViewMenu","props","_useLocationsState","_useLocationsState2","slicedToArray","dispatchLocations","_useModalState","_useModalState2","objectDestructuringEmpty","dispatchModal","className","onClick","onListSelected","index_es","icon","title","onGridSelected","LocationButtons","onEdit","onRemove","LocationAttractivnessButton","_ref$onSelect","onSelect","_ref$isActive","isActive","_useState","useState","_useState2","stars","setStars","useEffect","getStars","output","Array","map","item","key","reverse","onMouseOver","onMouseOut","LocationGridItem","src","image","alt","Locations_LocationAttractivnessButton","Locations_LocationButtons","LocationListItem","link","LocationsView","dispatchlocations","locationsView","setLocationsView","Locations_LocationsViewMenu","Locations_LocationGridItem","renderGrid","Locations_LocationListItem","renderList","CoordinatesValidator","isValid","RegExp","test","isNumber","defaultOptions","draggable","canAddMarker","MapView","selLoc","_ref$options","options","visibleMarkers","setVisibleMarkers","_useState3","_useState4","mapObject","setMapObject","setupMarker","marker","L","addTo","bindPopup","openPopup","on","e","onCoordinatesUpdated","getLatLng","zoom","center","tileLayer","attribution","maxZoom","accessToken","forEach","remove","markers","push","setView","latlng","selectedLocation","find","el","LocationsMapView","_useLocationsState2$","components_MapView_MapView","Header","Modal","header","footer","LocationFormMapView","autoPan","steps","view","_useLocationFormState","useLocationFormState","_useLocationFormState2","formState","dispatchFormState","handleInputChanged","LocationFormStateActions","updateLocation","defineProperty","target","htmlFor","onChange","autoFocus","handleAttractivnessChanged","rows","validator","_useLocationFormState3","_useLocationFormState4","handleCoordinatesChanged","MapView_LocationFormMapView","lng","StepsCoordinator","setStep","step","canNext","next","nextStep","previous","previousStep","getCurrentView","updateCoordinates","setError","clearError","LocationFormContext","LocationFormStateProvider","LocationFormState","errors","ModalHeader","LocationDetailsFooter","_ref2","onSubmit","coordinator","renderPrevious","disabled","renderNext","renderSubmit","LocationDetailsFormBody","renderStepView","View","locationDetails","classCallCheck","this","toString","LanguageProvider","language","_currentLanguage","navigator","userLanguage","substr","API_URL","WikipediaAPIWrapper","input","wiki","apiUrl","search","results","splice","page","all","raw","summary","mainImage","details","geo","img","searchResult","SearchResult","length","_loop","onSelected","renderResults","Search","searchValue","setSearchValue","timer","setTimer","_useState5","_useState6","searchResults","setSearchResults","handleSearchInputTimeout","clearTimeout","setTimeout","placeholder","Search_SearchResult","selection","getDetails","DefaultCoordinates","AddNewLocationSelect","_emptyModalContent","useModalContentFactory","modalModel","locationFormBuilder","onCancel","modals_ModalHeader","LocationDetailsForm_LocationDetailsFormBody","LocationDetailsForm_LocationDetailsFooter","components_Search_Search","modals_AddNewLocationSelect","log","ModalContainer","modalContent","setModalContent","_useModalState3","factory","modals_Modal","renderModal","LocationsDataDownloader","fetch","response","status","json","storeLocation","library","add","fas","App","LocationsState_LocationsStateProvider","components_LocationsDataDownloader","ModalStateProvider_ModalStateProvider","modals_ModalContainer","components_Header","Locations_LocationsView","MapView_LocationsMapView","Boolean","window","hostname","match","ReactDOM","render","src_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"siBAAMA,EAAU,mBAGVC,EAAS,2MAAAC,OAKJF,EALI,iLAaTG,6GAEE,8CAAAD,OAEiBF,EAFjB,sBAAAE,OAGQF,EAHR,oCAAAE,QAKI,IAAIE,MAAOC,cALf,4DASeC,GACf,qBAAAJ,OACII,EAASC,YAAYC,IADzB,WAAAN,OACsCI,EAASC,YAAYE,IAD3D,kBAAAP,OAEII,EAASI,KAFb,MAAAR,OAEsBI,EAASK,cAF/B,wBAAAT,OAGII,EAASM,YAHb,4BAQaC,wGACDC,GACZ,OAAO,IAAIC,QAAQ,SAACC,EAASC,GAEzB,IAAIC,EAtCE,0DAsCwBjB,EAI9B,IAAI,IAAIkB,KAFRD,GAAef,EAAUiB,cAERN,EAAU,CACvB,IAAIR,EAAWQ,EAAUK,GACtBb,EAASC,YACRW,GAAef,EAAUkB,YAAYf,GAErCW,EAAM,OAAAf,OAAQI,EAASI,KAAjB,6CAKdM,EADAE,GAxCG,uBCXMI,sCAEZC,SAAW,SAACT,GACjBD,EACCW,SAASV,GACTW,KAAK,SAAAP,GAAW,OALAI,EAKSI,oBAAoBR,MAL7BI,EAQZI,oBAAsB,SAACR,GAC5B,IAAIS,EAAUC,SAASC,cAAc,KACrCF,EAAQG,aAAa,OAAQ,iCAAmCC,mBAAmBb,IACnFS,EAAQG,aAAa,WAArB,gBAAA5B,QAAiD,IAAIE,MAAOC,cAA5D,SAEAsB,EAAQK,MAAMC,QAAU,OACxBL,SAASM,KAAKC,YAAYR,GAE1BA,EAAQS,QAERR,SAASM,KAAKG,YAAYV,+CCjBxBW,EAAa,CACfxB,UAAW,GACXyB,sBAAuB,MAGdC,EACI,cADJA,EAEO,iBAFPA,EAGK,eAHLA,EAII,cAJJA,EAKW,qBAGXC,EAAwBC,0BAExBC,EAAyB,SAAAC,GAAgB,IAAdC,EAAcD,EAAdC,SACpC,OACIC,EAAAC,EAAAlB,cAACY,EAAsBO,SAAvB,CAAgCC,MAAOC,qBAAWC,EAAUC,MACvDP,IAKFQ,EAAoB,kBAAMC,qBAAWb,IAM5CW,EAAoB,WACrB,OAAOG,IAAMC,IAAI,iBAAkBlB,IAGlCa,EAAW,SAACM,EAAOC,GACnB,IAAIC,EAAW,GAEf,OAAOD,EAAOE,MACV,KAAKpB,EACDmB,EAAQE,OAAAC,EAAA,EAAAD,CAAA,GAAQJ,EAAR,CAAe3C,UAAS,GAAAZ,OAAA2D,OAAAE,EAAA,EAAAF,CAAMJ,EAAM3C,WAAZ,CAAuB4C,EAAOM,SAC9D,MACJ,KAAKxB,EACD,IAAIyB,EAAmBR,EAAM3C,UAAUoD,OAAO,SAAAC,GAAC,OAAIA,EAAEC,KAAOV,EAAOM,KAAKI,MAAO,GAC/ET,EAAQE,OAAAC,EAAA,EAAAD,CAAA,GAAOJ,EAAP,CAAc3C,UAAWmD,IACjC,MACJ,KAAKzB,EACD,IAAI6B,EAAkBZ,EAAM3C,UAAUwD,UAAU,SAAAH,GAAC,OAAIA,EAAEC,KAAOV,EAAOM,KAAKI,KAC1EX,EAAM3C,UAAUuD,GAAmBX,EAAOM,KAC1CL,EAAQE,OAAAC,EAAA,EAAAD,CAAA,GAAOJ,EAAP,CAAc3C,UAAU+C,OAAAE,EAAA,EAAAF,CAAKJ,EAAM3C,aAC3C,MACJ,KAAK0B,EACDmB,EAAQE,OAAAC,EAAA,EAAAD,CAAA,GAAOJ,EAAP,CAAclB,sBAAuBmB,EAAOM,OACpD,MACJ,KAAKxB,EACDmB,EAAQE,OAAAC,EAAA,EAAAD,CAAA,GAAOJ,EAAP,CAAc3C,UAAW,KACjC,MACJ,QACI6C,EAAWF,EACXc,QAAQC,MAAR,8BAAAtE,OAA4CwD,EAAOE,KAAnD,uBAIR,OApCkB,SAACH,GACnBF,IAAMkB,IAAI,iBAAkBhB,GAkC5BiB,CAAgBf,GACTA,GC9DEgB,EACI,cADJA,EAEK,eAFLA,EAGD,SAHCA,EAKa,uBAGbC,EACH,OADGA,EAEH,OAFGA,EAGD,SAGNC,EAAa,CACfjB,KAAM,GACNkB,WAAW,EACXd,KAAM,IAGNb,EAAW,SAACM,EAAOC,GACnB,OAAOA,EAAOE,MACV,KAAKgB,EACD,OAAOf,OAAAC,EAAA,EAAAD,CAAA,GAAIJ,EAAX,CAAkBO,KAAMN,EAAOM,KAAMJ,KAAMF,EAAOqB,UAAWD,WAAW,IAC5E,KAAKF,EACD,MAAO,CAACZ,KAAM,KAAMJ,KAAM,KAAMkB,WAAW,GAC/C,KAAKF,EACD,OAAOf,OAAAC,EAAA,EAAAD,CAAA,GAAIJ,EAAX,CAAkBO,KAAMN,EAAOM,OACnC,QAEI,OADAO,QAAQC,MAAR,0BAAAtE,OAAwCwD,EAAOE,KAA/C,uBACOH,IAINuB,EAAetC,wBAAcmC,GAE7BI,EAAqB,SAAArC,GAAgB,IAAdC,EAAcD,EAAdC,SAChC,OACIC,EAAAC,EAAAlB,cAACmD,EAAahC,SAAd,CAAuBC,MAAOC,qBAAWC,EAAU0B,IAC9ChC,IAKFqC,EAAgB,kBAAM5B,qBAAW0B,ICD7BG,EAvCS,SAACC,GAAU,IAAAC,EACQhC,IADRiC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAwB,EAAA,GACzBvE,EADyBwE,EAAA,GACzBxE,UAAY0E,EADaF,EAAA,GAAAG,EAELP,IAFKQ,EAAA7B,OAAA0B,EAAA,EAAA1B,CAAA4B,EAAA,GAAA5B,OAAA8B,EAAA,EAAA9B,CAAA6B,EAAA,QAEtBE,EAFsBF,EAAA,GAIjC,OACE5C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,iCACX/C,EAAAC,EAAAlB,cAAA,MAAIgE,UAAU,uBACZ/C,EAAAC,EAAAlB,cAAA,MAAIgE,UAAU,2BAA2BC,QAASV,EAAMW,gBACtDjD,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CAAiBC,KAAK,UAAUJ,UAAU,QAAQK,MAAM,kBAE1DpD,EAAAC,EAAAlB,cAAA,MAAIgE,UAAU,2BAA2BC,QAASV,EAAMe,gBACtDrD,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CAAiBC,KAAK,WAAWJ,UAAU,QAAQK,MAAM,kBAE3DpD,EAAAC,EAAAlB,cAAA,MAAIgE,UAAU,4BACZ/C,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CACEC,KAAK,YACLC,MAAM,uBACNL,UAAU,wBACVC,QAAS,kBAAIN,EAAkB,CAAC5B,KAAMpB,QAE1CM,EAAAC,EAAAlB,cAAA,MAAIgE,UAAU,4BACZ/C,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CACEC,KAAK,gBACLC,MAAM,oBACNL,UAAU,wBACVC,QAAS,kBAAIxE,EAAkBC,SAAST,OAE5CgC,EAAAC,EAAAlB,cAAA,MAAIgE,UAAU,4BACZ/C,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CACEC,KAAK,cACLC,MAAM,mBACNL,UAAU,QACVC,QAAS,kBAAIF,EAAc,CAAChC,KAAMgB,EAAuBG,UAAWJ,WChBnEyB,EAnBO,SAAAxD,GAAwB,IAAtByD,EAAsBzD,EAAtByD,OAAQC,EAAc1D,EAAd0D,SAC5B,OACIxD,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,mCACX/C,EAAAC,EAAAlB,cAAA,UACIqE,MAAM,gBACNJ,QAASO,EACTR,UAAU,kDACV/C,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CAAiBC,KAAK,SAJ1B,SAMAnD,EAAAC,EAAAlB,cAAA,UACIqE,MAAM,kBACNJ,QAASQ,EACTT,UAAU,wBACV/C,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CAAiBC,KAAK,cAJ1B,aCgCGM,EAxCmB,SAAA3D,GAAkD,IAAhDK,EAAgDL,EAAhDK,MAAgDuD,EAAA5D,EAAzC6D,gBAAyC,IAAAD,EAA9B,aAA8BA,EAAAE,EAAA9D,EAAtB+D,gBAAsB,IAAAD,KAAAE,EACtDC,qBADsDC,EAAAjD,OAAA0B,EAAA,EAAA1B,CAAA+C,EAAA,GACzEG,EADyED,EAAA,GAClEE,EADkEF,EAAA,GAGhFG,oBAAU,WACND,EAASE,EAASjE,KACnB,CAACA,IAEJ,IAAIiE,EAAW,SAACjE,GACZ,IAAIkE,EAAMtD,OAAAE,EAAA,EAAAF,CAAOuD,MAVF,IAwBf,OAZAD,EAAOE,IAAI,SAACC,EAAMnG,GAEVgG,EAAOhG,GADRA,EAAM8B,EACWH,EAAAC,EAAAlB,cAAA,QACIgE,UAAWc,EAAW,8BAAgC,uCACtDb,QAAS,kBAAIW,EAAStF,IACtBoG,IAAKpG,GAHT,UAKC2B,EAAAC,EAAAlB,cAAA,QACGgE,UAAWc,EAAW,uCAAyC,gDAC/Db,QAAS,kBAAIW,EAAStF,IACtBoG,IAAKpG,GAHR,YAKlBgG,EAAOK,WAGlB,OAAGb,EAEK7D,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,mCAAmC4B,YAAa,kBAAIT,EAASE,EAAS,KAAKQ,WAAY,kBAAIV,EAASE,EAASjE,MACvH8D,GAMTjE,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,oCACVkB,ICnBEY,EAhBQ,SAACvC,GACtB,OACEtC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,iBACb/C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,sBAAsB+B,IAAKxC,EAAM9E,SAASuH,MAAOC,IAAK1C,EAAM9E,SAASI,OACpFoC,EAAAC,EAAAlB,cAAA,MAAIgE,UAAU,qBAAqBC,QAASV,EAAMqB,UAAWrB,EAAM9E,SAASI,MAC5EoC,EAAAC,EAAAlB,cAAA,KAAGgE,UAAU,4BAA4BK,MAAOd,EAAM9E,SAASM,aAAcwE,EAAM9E,SAASM,aAC5FkC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,kCACb/C,EAAAC,EAAAlB,cAACkG,EAAD,CAA6B9E,MAAOmC,EAAM9E,SAASK,gBACnDmC,EAAAC,EAAAlB,cAACmG,EAAD,CAAiB3B,OAAQjB,EAAMiB,OAAQC,SAAUlB,EAAMkB,cCgBhD2B,EAzBQ,SAAC7C,GACtB,OACEtC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,0BACb/C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,qBAAqB+B,IAAKxC,EAAM9E,SAASuH,MAAOC,IAAK1C,EAAM9E,SAASI,OACnFoC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,oBACbK,MAAOd,EAAM9E,SAAS4H,KACtBpC,QAASV,EAAMqB,UAAWrB,EAAM9E,SAASI,MAC3CoC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,2BAA2BK,MAAOd,EAAM9E,SAASM,aAAcwE,EAAM9E,SAASM,aAC7FkC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,8BAA8BT,EAAM9E,SAASK,eAC5DmC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,wBACf/C,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CACEC,KAAK,YACLC,MAAM,kBACNL,UAAU,sBACVC,QAASV,EAAMkB,WACjBxD,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CACEC,KAAK,OACLC,MAAM,gBACNL,UAAU,sBACVC,QAASV,EAAMiB,YC6BR8B,EA5CK,WAAM,IAAA9C,EACiBhC,IADjBiC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAwB,EAAA,GAChBvE,EADgBwE,EAAA,GAChBxE,UAAYsH,EADI9C,EAAA,GAAAG,EAEIP,IAFJQ,EAAA7B,OAAA0B,EAAA,EAAA1B,CAAA4B,EAAA,GAAA5B,OAAA8B,EAAA,EAAA9B,CAAA6B,EAAA,QAEbE,EAFaF,EAAA,GAAAkB,EA8BkBC,mBAAS,QA9B3BC,EAAAjD,OAAA0B,EAAA,EAAA1B,CAAA+C,EAAA,GA8BjByB,EA9BiBvB,EAAA,GA8BFwB,EA9BExB,EAAA,GAgCxB,OACEhE,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,4BACb/C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,uBACb/C,EAAAC,EAAAlB,cAAC0G,EAAD,CACExC,eAAgB,kBAAIuC,EAAiB,SACrCnC,eAAgB,kBAAImC,EAAiB,YAEtB,SAAlBD,EAtBY,WACf,IAAIlB,EAASrG,EAAUuG,IAAI,SAAC/G,GAAD,OACzBwC,EAAAC,EAAAlB,cAAC2G,EAAD,CACElI,SAAUA,EACViH,IAAKjH,EAAS8D,GACdkC,SAAU,kBAAI8B,EAAkB,CAACxE,KAAMpB,EAAsCwB,KAAM1D,KACnF+F,OAAQ,kBAAIT,EAAc,CAAChC,KAAMgB,EAAuBZ,KAAM1D,EAAUyE,UAAWJ,KACnF8B,SAAU,kBAAI2B,EAAkB,CAACxE,KAAMpB,EAAmCwB,KAAM1D,SAGpF,OAAOwC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,iCAAiCsB,GAYzBsB,GAnCf,WACf,IAAItB,EAASrG,EAAUuG,IAAI,SAAC/G,GAAD,OACzBwC,EAAAC,EAAAlB,cAAC6G,EAAD,CACEpI,SAAUA,EACViH,IAAKjH,EAAS8D,GACdkC,SAAU,kBAAI8B,EAAkB,CAACxE,KAAMpB,EAAsCwB,KAAM1D,KACnF+F,OAAQ,kBAAIT,EAAc,CAAChC,KAAMgB,EAAuBZ,KAAM1D,EAAUyE,UAAWJ,KACnF8B,SAAU,kBAAI2B,EAAkB,CAACxE,KAAMpB,EAAmCwB,KAAM1D,SAGpF,OAAOwC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,iCAAiCsB,GAyBVwB,sBC/BlCC,EARc,WAKzB,MAAO,CAACC,QAJM,SAAC5F,GACX,OAPS,SAACA,GAEd,OADU,IAAI6F,OAHF,wBAIDC,KAAK9F,GAKL+F,CAAS/F,MCLlBgG,EAAiB,CACnBC,WAAW,EACXlH,MAAO,qBACPmH,cAAc,EACdjD,MAAM,IA2FKkD,GAxFD,SAAAxG,GAAmD,IAAjD9B,EAAiD8B,EAAjD9B,UAAWuI,EAAsCzG,EAAtCyG,OAAsCC,EAAA1G,EAA9B2G,eAA8B,IAAAD,EAApBL,EAAoBK,EAAA1C,EACjBC,mBAAS,IADQC,EAAAjD,OAAA0B,EAAA,EAAA1B,CAAA+C,EAAA,GACtD4C,EADsD1C,EAAA,GACtC2C,EADsC3C,EAAA,GAAA4C,EAE3B7C,mBAAS,MAFkB8C,EAAA9F,OAAA0B,EAAA,EAAA1B,CAAA6F,EAAA,GAEtDE,EAFsDD,EAAA,GAE3CE,EAF2CF,EAAA,GAIzDG,EAAc,SAACxJ,EAAUC,GACzB,IAAIwJ,EAASC,IAAED,OAAOxJ,EAATsD,OAAAC,EAAA,EAAAD,CAAA,GAA0B0F,EAA1B,CAAmCrD,MAAO5F,EAASI,QAC3CuJ,MAAML,GACNM,UAAU5J,EAASI,MACnByJ,YAQrB,OANGZ,EAAQL,WACPa,EAAOK,GAAG,UAAW,SAACC,GAClBd,EAAQe,qBAAqBP,EAAOQ,eAIrCR,GA+DX,OA5DA9C,oBAAU,WACN,IAAII,EAAM2C,IAAE3C,IAAI,QAChB,CACImD,KAAK,EACLC,OAAQ,CAAC,QAAS,OAGtBT,IAAEU,UAAU,iEAAkE,CAC1EC,YAAa,oJACbC,QAAS,GACTxG,GAAI,iBACJyG,YAAa,6FACdZ,MAAM5C,GAETwC,EAAaxC,IACd,IAEHJ,oBAAU,WACN,GAAG2C,EACH,CACIJ,EAAesB,QAAQ,SAAAxK,GACnBA,EAASyJ,OAAOgB,WAGpB,IAAIC,EAAU,GACdlK,EAAUgK,QAAQ,SAAAxK,GACd,GAAGsI,IAAuBC,QAAQvI,EAASC,YAAYC,MACpDoI,IAAuBC,QAAQvI,EAASC,YAAYE,KACvD,CACI,IAAIF,EAAc,CAACD,EAASC,YAAYC,IAAKF,EAASC,YAAYE,KAClEuK,EAAQC,KAAK,CACTlB,OAAQD,EAAYxJ,EAAUC,GAC9B6D,GAAI9D,EAAS8D,KAGjBwF,EAAUsB,QAAQ3K,MAI1BkJ,EAAkBuB,GAEfzB,EAAQJ,cACPS,EAAUQ,GAAG,QAAS,SAACC,GACnBd,EAAQe,qBAAqBD,EAAEc,YAI5C,CAACvB,EAAW9I,IAEfmG,oBAAU,WACN,GAAGoC,GAAUO,EACb,CACI,IAAIwB,EAAmB5B,EAAe6B,KAAK,SAAAC,GAAE,OAAIA,EAAGlH,KAAOgH,EAAiBhH,KACzEgH,IACCxB,EAAUsB,QAAQ,CAACE,EAAiB7K,YAAYC,IAAK4K,EAAiB7K,YAAYE,MAClF2K,EAAiBrB,OAAOG,UAAUkB,EAAiB1K,MAAMyJ,eAGlE,CAACd,IAGAvG,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,gBAAgBK,MAAOqD,EAAQrD,OAC1CpD,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,OACX/C,EAAAC,EAAAlB,cAAA,OAAKuC,GAAG,QAAQyB,UAAW0D,EAAQvH,WCjFpCuJ,GARU,WAAM,IAAAlG,EACkBhC,IADlBmI,EAAA3H,OAAA0B,EAAA,EAAA1B,CAAAwB,EAAA,MACnBvE,EADmB0K,EACnB1K,UAAWyB,EADQiJ,EACRjJ,sBAEnB,OACIO,EAAAC,EAAAlB,cAAC4J,GAAD,CAAS3K,UAAWA,EAAWsK,iBAAkB7I,KCG1CmJ,GARF,SAACtG,GACZ,OACEtC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,UACX/C,EAAAC,EAAAlB,cAAA,WAAKiB,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CAAiBC,KAAK,mBAA3B,oBCcO0F,GAlBH,SAACvG,GACT,OACItC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,mBAAmB7D,MAAO,CAACC,QAASmD,EAAMN,UAAY,QAAU,SAC3EhC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,SACX/C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,gBACVT,EAAMwG,QAEX9I,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,iBACVT,EAAMlD,MAEXY,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,eAAe7D,MAAO,CAACC,QAASmD,EAAMyG,OAAS,QAAU,SACnEzG,EAAMyG,mBCMZC,GAhBa,SAAAlJ,GAAsC,IAApCtC,EAAoCsC,EAApCtC,SACtBQ,EAAY,CAACR,GACbiJ,EAAU,CACVL,WAAW,EACX6C,SAAS,EACTzB,qBAL0D1H,EAA1B0H,qBAMhCtI,MAAO,yBACPmH,cAAc,EACdjD,MAAO,4BAGX,OACIpD,EAAAC,EAAAlB,cAAC4J,GAAD,CAAS3K,UAAWA,EAAWsK,iBAAkB9K,EAAUiJ,QAASA,KCRtEyC,GAAQ,CACV,CACIC,KCA2B,WAAM,IAAAC,EACEC,KADFC,EAAAvI,OAAA0B,EAAA,EAAA1B,CAAAqI,EAAA,GAC9BG,EAD8BD,EAAA,GACnBE,EADmBF,EAAA,GAGjCG,EAAqB,SAAClC,GACtBiC,EAAkB,CAAC1I,KAAM4I,GAAyBC,eAAgBzI,KAAKH,OAAAC,EAAA,EAAAD,CAAA,GAAKwI,EAAU/L,SAAhBuD,OAAA6I,GAAA,EAAA7I,CAAA,GAA2BwG,EAAEsC,OAAOjM,KAAO2J,EAAEsC,OAAO1J,WAO9H,OACIH,EAAAC,EAAAlB,cAAA,YACIiB,EAAAC,EAAAlB,cAAA,WACIiB,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,2BACX/C,EAAAC,EAAAlB,cAAA,SAAO+K,QAAQ,gBAAgB/G,UAAU,kBAAzC,mBACA/C,EAAAC,EAAAlB,cAAA,SACInB,KAAK,OACLmF,UAAU,eACVzB,GAAG,gBACHyI,SAAUN,EACVtJ,MAAOoJ,EAAU/L,SAASI,MAAQ,GAClCoM,WAAS,KAGjBhK,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,2BAAf,gBAEI/C,EAAAC,EAAAlB,cAACkG,EAAD,CACQ9E,MAAOoJ,EAAU/L,SAASK,eAAiB,GAC3C8F,SAAU,SAACxD,IAtBF,SAACA,GAC9BqJ,EAAkB,CAAC1I,KAAM4I,GAAyBC,eAAgBzI,KAAKH,OAAAC,EAAA,EAAAD,CAAA,GAAKwI,EAAU/L,SAAhB,CAA0BK,cAAesC,MAqBvE8J,CAA2B9J,IAC/C0D,UAAU,KAEtB7D,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,2BACX/C,EAAAC,EAAAlB,cAAA,SAAO+K,QAAQ,wBAAf,eACA9J,EAAAC,EAAAlB,cAAA,YACInB,KAAK,cACLmF,UAAU,eACVmH,KAAK,IAAI5I,GAAG,uBACZyI,SAAUN,EACVtJ,MAAOoJ,EAAU/L,SAASM,aAAe,SDtCzDqM,UCoDG,CAACpE,QAJM,SAACvI,GACX,QAASA,EAASI,QD/CtB,CACIuL,KCoD+B,WAAM,IAAAiB,EACFf,KADEgB,EAAAtJ,OAAA0B,EAAA,EAAA1B,CAAAqJ,EAAA,GAClCb,EADkCc,EAAA,GACvBb,EADuBa,EAAA,GAGrCC,EAA2B,SAAC/C,GAC5BiC,EAAkB,CAAC1I,KAAM4I,GAAyBC,eAAgBzI,KAAKH,OAAAC,EAAA,EAAAD,CAAA,GAEAwI,EAAU/L,SAFX,CAGFC,YAAYsD,OAAAC,EAAA,EAAAD,CAAA,GACLwI,EAAU/L,SAASC,YADfsD,OAAA6I,GAAA,EAAA7I,CAAA,GAENwG,EAAEsC,OAAOjM,KAAO2J,EAAEsC,OAAO1J,aActG,OACIH,EAAAC,EAAAlB,cAAA,YACIiB,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,0BACX/C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,2BACX/C,EAAAC,EAAAlB,cAAA,SAAO+K,QAAQ,2BAA2B/G,UAAU,kBAApD,gBACA/C,EAAAC,EAAAlB,cAAA,SACInB,KAAK,MACLmF,UAAU,eACVzB,GAAG,2BACHyI,SAAUO,EACVnK,MAAOoJ,EAAU/L,SAASC,YAAYC,KAAO,KAC7CsC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,uBAAuB+C,IAAuBC,QAAQwD,EAAU/L,SAASC,YAAYC,KAAO,GA5F7G,oBA+FNsC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,2BACX/C,EAAAC,EAAAlB,cAAA,SAAO+K,QAAQ,2BAA2B/G,UAAU,kBAApD,iBACA/C,EAAAC,EAAAlB,cAAA,SACInB,KAAK,MACLmF,UAAU,eACVzB,GAAG,2BACHyI,SAAUO,EACVnK,MAAOoJ,EAAU/L,SAASC,YAAYE,KAAO,KAC7CqC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,uBAAuB+C,IAAuBC,QAAQwD,EAAU/L,SAASC,YAAYE,KAAO,GAvG7G,qBA4GVqC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,0BACP/C,EAAAC,EAAAlB,cAACwL,GAAD,CAAqB/M,SAAU+L,EAAU/L,SAAUgK,qBAtCjC,SAAC/J,GAC/B+L,EAAkB,CAAC1I,KAAM4I,GAAyBC,eAAgBzI,KAAKH,OAAAC,EAAA,EAAAD,CAAA,GAEQwI,EAAU/L,SAFnB,CAGMC,YAAa,CACTC,IAAKD,EAAYC,IACjBC,IAAKF,EAAY+M,eDtEjGL,UCiHG,CAACpE,QAJM,SAACvI,GACX,OAAQsI,IAAuBC,QAAQvI,EAASC,YAAYC,MAAQoI,IAAuBC,QAAQvI,EAASC,YAAYE,SDxEjH8M,GAnCU,WAAM,IAAArB,EACYC,KADZC,EAAAvI,OAAA0B,EAAA,EAAA1B,CAAAqI,EAAA,GACpBG,EADoBD,EAAA,GACTE,EADSF,EAAA,GAmBvBoB,EAAU,SAACC,GACXnB,EAAkB,CAAC1I,KAAM4I,GAAyBgB,QAASxJ,KAAMyJ,KAGjEC,EAAU,WACV,OAAO1B,GAAMK,EAAUoB,MAAMR,UAAUpE,QAAQwD,EAAU/L,WAG7D,MAAO,CACHqN,KAzBO,WACP,GAAGD,IAAU,CACT,IAAIE,EAAWvB,EAAUoB,KAAO,IAjBpB,IAiBgDpB,EAAUoB,KAAO,EAC7ED,EAAQI,KAuBZF,QAASA,EACTG,SApBW,WACX,IAAIC,EAAezB,EAAUoB,KAAO,IAxBnB,IAwBiDpB,EAAUoB,KAAO,EACnFD,EAAQM,IAmBRC,eAhBiB,WACjB,OAAO/B,GAAMK,EAAUoB,MAAMxB,QE7BxBO,GAA2B,CACpCgB,QAAS,UACTf,eAAgB,iBAChBuB,kBAAmB,oBACnBC,SAAU,WACVC,WAAY,cAGVC,GAAsBzL,0BAEf0L,GAA4B,SAAAxL,GAAgB,IAAdC,EAAcD,EAAdC,SACvC,OACIC,EAAAC,EAAAlB,cAACsM,GAAoBnL,SAArB,CAA8BC,MAAOC,qBAAWC,GAAUkL,KACrDxL,IAKAsJ,GAAuB,kBAAM7I,qBAAW6K,KAE/CE,GAAoB,CACtBZ,KFrBqB,EEsBrBnN,SAAU,GACVgO,OAAQ,IAGRnL,GAAW,SAACM,EAAOC,GACnB,OAAOA,EAAOE,MACV,KAAK4I,GAAyByB,SAC1B,OAAOpK,OAAAC,EAAA,EAAAD,CAAA,GAAIJ,EAAX,CAAkB6K,OAAOzK,OAAAC,EAAA,EAAAD,CAAA,GAAKJ,EAAM6K,OAAZzK,OAAA6I,GAAA,EAAA7I,CAAA,GAAqBH,EAAOM,KAAKtD,KAAMgD,EAAOM,KAAKf,UAC/E,KAAKuJ,GAAyB0B,WAC1B,OAAOrK,OAAAC,EAAA,EAAAD,CAAA,GAAIJ,EAAX,CAAkB6K,OAAOzK,OAAAC,EAAA,EAAAD,CAAA,GAAKJ,EAAM6K,OAAZzK,OAAA6I,GAAA,EAAA7I,CAAA,GAAqBH,EAAOM,KAAKtD,KAAM,SACnE,KAAK8L,GAAyBC,eAC1B,OAAO5I,OAAAC,EAAA,EAAAD,CAAA,GAAIJ,EAAX,CAAkBnD,SAAUoD,EAAOM,OACvC,KAAKwI,GAAyBgB,QAC1B,OAAO3J,OAAAC,EAAA,EAAAD,CAAA,GAAIJ,EAAX,CAAkBgK,KAAM/J,EAAOM,OACnC,QACI,OAAOP,ICxBJ8K,GAbK,SAACnJ,GAAU,IAAAK,EACSP,IADTQ,EAAA7B,OAAA0B,EAAA,EAAA1B,CAAA4B,EAAA,GACRG,GADQF,EAAA,GAAAA,EAAA,IAG3B,OACI5C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,0BACX/C,EAAAC,EAAAlB,cAAA,WAAMuD,EAAMc,OACZpD,EAAAC,EAAAlB,cAAA,OAAKiE,QAAS,WAAKF,EAAc,CAAChC,KAAMgB,KAA0BiB,UAAU,6BACxE/C,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CAAiBC,KAAK,eAAeC,MAAM,aCUrDsI,GAAwB,SAAAC,GAAgB,IAAdC,EAAcD,EAAdC,SAAcxC,EACHC,KADGC,EAAAvI,OAAA0B,EAAA,EAAA1B,CAAAqI,EAAA,GACnCG,EADmCD,EAAA,GAEpCuC,GAFoCvC,EAAA,GAEtBmB,MA0CpB,OACIzK,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,8BAzCE,WACjB,GAAGwG,EAAUoB,KJtBI,EIuBb,OACI3K,EAAAC,EAAAlB,cAAA,UACI+B,KAAK,SACLiC,UAAU,MACVC,QAAS,kBAAM6I,EAAYd,aAH/B,YAuCHe,GA7BQ,WACb,GAAGvC,EAAUoB,KJlCG,EImCZ,OACI3K,EAAAC,EAAAlB,cAAA,UACI+B,KAAK,SACLiC,UAAU,MACVC,QAAS,kBAAM6I,EAAYhB,QAC3BkB,UAAWF,EAAYjB,WAJ3B,QA0BeoB,GAhBR,WACf,GJ/CgB,II+CbzC,EAAUoB,KACT,OACI3K,EAAAC,EAAAlB,cAAA,UACI+B,KAAK,SACLiC,UAAU,kBACVC,QAAS,kBACL4I,EAASrC,EAAU/L,WACvBuO,UAAWF,EAAYjB,WAL3B,QAa6BqB,KAMvCC,GAA0B,SAAC5J,GAAU,IAAA8H,EACAf,KADAgB,EAAAtJ,OAAA0B,EAAA,EAAA1B,CAAAqJ,EAAA,GACrBZ,GADqBa,EAAA,GAAAA,EAAA,IAIvClG,oBAAU,WACNqF,EAAkB,CAAC1I,KAAM4I,GAAyBC,eAAgBzI,KAAMoB,EAAM9E,YAC/E,IAEH,IAII2O,EAAiB,SAACC,EAAM9J,GACxB,OAAOtC,EAAAC,EAAAlB,cAACqN,EAAS9J,IAGrB,OACItC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,gCARRoJ,EAAe1B,KAAmBQ,wCClF5BoB,GACnB,SAAAA,EAAYzO,EAAME,EAAaD,EAAeJ,EAAasH,EAAOK,GAAMrE,OAAAuL,EAAA,EAAAvL,CAAAwL,KAAAF,GACtEE,KAAK3O,KAAOA,EACZ2O,KAAKzO,YAAcA,EACnByO,KAAK1O,cAAgBA,GAAiB,EACtC0O,KAAK9O,YAAcA,EACnB8O,KAAKxH,MAAQA,EACbwH,KAAKnH,KAAOA,EACZmH,KAAKjL,KAAO,IAAIhE,MAAQkP,SAAS,KCRhBC,oGAGNC,GACPH,KAAKI,iBAAmBD,gCAQxB,MAJ6B,KAA1BH,KAAKI,mBACJJ,KAAKI,kBAAoBC,UAAUF,UAAYE,UAAUC,cAAcC,OAAO,EAAG,IAG9EP,KAAKI,0BAZCF,GACVE,iBAAmB,GCG9B,IACMI,GAAO,WAAA3P,OAAcqP,GAAiB/L,MAA/B,4BAEQsM,uGAGHC,GACV,OAAOC,KAAK,CAACC,OAAQJ,KACpBK,OAAOH,GACPtO,KAAK,SAAAuC,GAAI,OAAIA,EAAKmM,QAAQC,OAAO,EATlB,wCAYFL,GACd,OAAOC,KAAK,CAACC,OAAQJ,KACpBQ,KAAKN,GACLtO,KAAK,SAAA4O,GAAS,OAAOtP,QAAQuP,IAAI,CAACD,EAAKE,IAAIrK,MAAOmK,EAAKG,UAAWH,EAAK9P,cAAe8P,EAAKI,gBAC3FhP,KAAK,SAAAmB,GAAA,IAAA6L,EAAA5K,OAAA0B,EAAA,EAAA1B,CAAAjB,EAAA,GAAElC,EAAF+N,EAAA,GAAQiC,EAARjC,EAAA,GAAiBkC,EAAjBlC,EAAA,GAAsBmC,EAAtBnC,EAAA,UAA+B,IAAIU,GAAgBzO,EAAMgQ,EAAS,EAAGC,EAAKC,EAAK,eAbxEd,GACVe,aAAe,GCN1B,IA6BeC,GA7BI,SAAC1L,GAsBlB,OACEtC,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,2BACVT,EAAM+K,SAAoC,IAAzB/K,EAAM+K,QAAQY,OAL7BjO,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,uBAAf,cAjBW,WAClB,IAAIsB,EAAS,GADW6J,EAAA,SAGhB7P,GACNgG,EAAO8D,KACPnI,EAAAC,EAAAlB,cAAA,OACEgE,UAAU,qBACVC,QAAS,kBAAIV,EAAM6L,WAAW7L,EAAM+K,QAAQhP,KAC5CoG,IAAKpG,GACJiE,EAAM+K,QAAQhP,MANnB,IAAI,IAAIA,KAASiE,EAAM+K,QAAQa,EAAvB7P,GAUR,OAAOgG,EAS4D+J,KC2BxDC,GA7CF,WAAM,IAAAvK,EACqBC,mBAAS,IAD9BC,EAAAjD,OAAA0B,EAAA,EAAA1B,CAAA+C,EAAA,GACVwK,EADUtK,EAAA,GACGuK,EADHvK,EAAA,GAAA4C,EAES7C,mBAAS,MAFlB8C,EAAA9F,OAAA0B,EAAA,EAAA1B,CAAA6F,EAAA,GAEV4H,EAFU3H,EAAA,GAEH4H,EAFG5H,EAAA,GAAA6H,EAGyB3K,mBAAS,MAHlC4K,EAAA5N,OAAA0B,EAAA,EAAA1B,CAAA2N,EAAA,GAGVE,EAHUD,EAAA,GAGKE,EAHLF,EAAA,GAAAhM,EAKWP,IALXQ,EAAA7B,OAAA0B,EAAA,EAAA1B,CAAA4B,EAAA,GAAA5B,OAAA8B,EAAA,EAAA9B,CAAA6B,EAAA,QAKNE,EALMF,EAAA,GAYbkM,EAA2B,WAC7B9B,GAAoBI,OAAOkB,GAAa3P,KAAK,SAAA0O,GAAO,OAAIwB,EAAiBxB,MAmB3E,OAPAlJ,oBAAU,WACW,KAAhBmK,IAlBHS,aAAaP,GACbC,EAASO,WAAWF,EAXF,QAgCjB,CAACR,IAGFtO,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,oBACb/C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,oBACb/C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,uBACb/C,EAAAC,EAAAlB,cAAA,QAAMgE,UAAU,oBAAmB/C,EAAAC,EAAAlB,cAACmE,EAAA,EAAD,CAAiBC,KAAK,kBAAkBJ,UAAU,YAEzF/C,EAAAC,EAAAlB,cAAA,SAAO+B,KAAK,OAAOiC,UAAU,eAAekM,YAAY,aAAalF,SAAU,SAAAxC,GAAC,OAAIgH,EAAehH,EAAEsC,OAAO1J,QAAQA,MAAOmO,EAAatE,WAAS,KAEnJhK,EAAAC,EAAAlB,cAACmQ,GAAD,CAAc7B,QAASuB,EAAeT,WAxBlB,SAACgB,GACrBN,EAAiB,MACjBN,EAAe,IAEfvB,GAAoBoC,WAAWD,GAAWxQ,KAAK,SAAAnB,GAC7CsF,EAAc,CAAChC,KAAMgB,EAAuBZ,KAAM1D,EAAUyE,UAAWJ,WC1BvEwN,GAAqB,CACvB3R,IAAK,EACLC,IAAK,GAyBM2R,GAtBY,WAAM,IAAA3M,EACDP,IADCQ,EAAA7B,OAAA0B,EAAA,EAAA1B,CAAA4B,EAAA,GAAA5B,OAAA8B,EAAA,EAAA9B,CAAA6B,EAAA,QAClBE,EADkBF,EAAA,GAG7B,OACI5C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,oBACX/C,EAAAC,EAAAlB,cAAA,UAAQ+B,KAAK,SAASkC,QAAS,kBAAIF,EAC/B,CACIhC,KAAMgB,EACNG,UAAWJ,KACXkB,UAAU,OAJlB,mBAKA/C,EAAAC,EAAAlB,cAAA,UAAQ+B,KAAK,SAASkC,QAAS,kBAAIF,EAC/B,CACIhC,KAAMgB,EACNZ,KACI,CACIzD,YAAa4R,IAErBpN,UAAWJ,KAA0BkB,UAAU,OAPvD,2BCTNwM,GAAqB,CAACzG,OAAQ,GAAI1J,KAAM,GAAI2J,OAAQ,GAAIpI,MAAO,IAEjE6O,GAAyB,WAAM,IAAA7M,EACKP,IADLQ,EAAA7B,OAAA0B,EAAA,EAAA1B,CAAA4B,EAAA,GACxB8M,EADwB7M,EAAA,GACZE,EADYF,EAAA,GAAAL,EAEChC,IAFDiC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAwB,EAAA,GAAAxB,OAAA8B,EAAA,EAAA9B,CAAAyB,EAAA,QAEpBE,EAFoBF,EAAA,GAuD/B,OAnDa,SAACP,GACV,IAAIyN,EPTI,SAAA5P,GAA2C,IAAzCsD,EAAyCtD,EAAzCsD,MAAO5F,EAAkCsC,EAAlCtC,SAAUoO,EAAwB9L,EAAxB8L,SAAU+D,EAAc7P,EAAd6P,SACrC,MAAO,CACH7G,OAAQ9I,EAAAC,EAAAlB,cAAC6Q,GAAD,CAAaxM,MAAOA,EAAOuM,SAAUA,IAC7CvQ,KACQY,EAAAC,EAAAlB,cAAC8Q,GAAD,CAAyBrS,SAAUA,IAC3CuL,OACQ/I,EAAAC,EAAAlB,cAAC+Q,GAAD,CAAuBlE,SAAUA,IACzCjL,MAAO2K,KOIX,OAAOrJ,GACH,KAAKJ,EACD,OAAO6N,EACH,CACItM,MAAO,eACP5F,SAAUiS,EAAWvO,KACrB0K,SAAU,SAAC1K,GACPwB,EAAkB,CACd5B,KAAMpB,EACNwB,KAAMA,IACV4B,EAAc,CACVhC,KAAMgB,OAI1B,KAAKD,EACD,OAAO6N,EACH,CACItM,MAAO,gBACP5F,SAAUiS,EAAWvO,KACrB0K,SAAU,SAAC1K,GACPwB,EAAkB,CACd5B,KAAMpB,EACNwB,KAAMA,IACV4B,EAAc,CACVhC,KAAMgB,OAI1B,KAAKD,EACD,MAAO,CACHiH,OAAQ9I,EAAAC,EAAAlB,cAAC6Q,GAAD,CAAaxM,MAAM,oBAC3BhE,KAAMY,EAAAC,EAAAlB,cAACgR,GAAD,MACNhH,OAAQ,MAGhB,KAAKlH,EACD,MAAO,CACHiH,OAAQ9I,EAAAC,EAAAlB,cAAC6Q,GAAD,CAAaxM,MAAM,kBAC3BhE,KAAMY,EAAAC,EAAAlB,cAACiR,GAAD,MACNjH,OAAQ,MAGpB,QAEI,OADAtH,QAAQwO,IAAR,yCAAA7S,OAAqD6E,EAArD,MACOsN,MAwCJW,GAlCM,WAAM,IAAApM,EACiBC,mBAASwL,IAD1BvL,EAAAjD,OAAA0B,EAAA,EAAA1B,CAAA+C,EAAA,GAChBqM,EADgBnM,EAAA,GACFoM,EADEpM,EAAA,GAAAqM,EAEFjO,IAAdqN,EAFgB1O,OAAA0B,EAAA,EAAA1B,CAAAsP,EAAA,MAGjBC,EAAUd,KA4BhB,OAJArL,oBAAU,WACNiM,EAAgBE,EAAQb,EAAW3O,QACpC,CAAC2O,IAxBc,WACd,IAAc1N,EAkBd,OAlBcA,EAkBAoO,EAAaxP,OAhBXX,EAAAC,EAAAlB,cAACgD,EAAD,KACI/B,EAAAC,EAAAlB,cAACwR,GAAD,CACIvO,UAAWyN,EAAWzN,UACtB8G,OAAQqH,EAAarH,OACrB1J,KAAM+Q,EAAa/Q,KACnB2J,OAAQoH,EAAapH,UAG9B/I,EAAAC,EAAAlB,cAACwR,GAAD,CACHvO,UAAWyN,EAAWzN,UACtB8G,OAAQqH,EAAarH,OACrB1J,KAAM+Q,EAAa/Q,KACnB2J,OAAQoH,EAAapH,SAW9ByH,IChEIC,GAjCiB,WAAM,IAAAlO,EACShC,IADTiC,EAAAzB,OAAA0B,EAAA,EAAA1B,CAAAwB,EAAA,GACZG,GADYF,EAAA,GACzBxE,UADyBwE,EAAA,IAGlC2B,oBAAU,WACNuM,MAAM,oCACD/R,KAAK,SAAAgS,GACsB,MAApBA,EAASC,OACTnP,QAAQC,MAAM,mBAGdiP,EAASE,OACJlS,KAAK,SAAAuC,GACEA,GACAA,EAAK8G,QAAQ,SAAAxK,GACTsT,EAActT,UAO3C,IAEH,IAAIsT,EAAgB,SAACtT,GACjBkF,EAAkB,CACd5B,KAAMpB,EACNwB,KAAM1D,KAId,OAAQwC,EAAAC,EAAAlB,cAAA,+BCPZgS,KAAQC,IAAIC,MAEZ,IAsBeC,GAtBL,WACR,OACElR,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,OACb/C,EAAAC,EAAAlB,cAACoS,EAAD,KACAnR,EAAAC,EAAAlB,cAACqS,GAAD,MACApR,EAAAC,EAAAlB,cAACsS,EAAD,KACErR,EAAAC,EAAAlB,cAACuS,GAAD,MACAtR,EAAAC,EAAAlB,cAACwS,GAAD,MACAvR,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,yBACb/C,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,sBACb/C,EAAAC,EAAAlB,cAACyS,EAAD,OAEFxR,EAAAC,EAAAlB,cAAA,OAAKgE,UAAU,gBACb/C,EAAAC,EAAAlB,cAAC0S,GAAD,YC7BQC,QACW,cAA7BC,OAAOnU,SAASoU,UAEe,UAA7BD,OAAOnU,SAASoU,UAEhBD,OAAOnU,SAASoU,SAASC,MACvB,2DCZNC,IAASC,OAAO/R,EAAAC,EAAAlB,cAACiT,GAAD,MAASlT,SAASmT,eAAe,SD2H3C,kBAAmBrF,WACrBA,UAAUsF,cAAcC,MAAMxT,KAAK,SAAAyT,GACjCA,EAAaC","file":"static/js/main.4f3cfa2a.chunk.js","sourcesContent":["const Creator = 'PlanYourTrip.com'\r\n\r\nconst XmlSchema = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?>'\r\nconst GpxHeader = `\r\n<gpx \r\nxmlns=\"http://www.topografix.com/GPX/1/1\" \r\nxmlns:gpxx=\"http://www.garmin.com/xmlschemas/GpxExtensions/v3\" \r\nxmlns:gpxtpx=\"http://www.garmin.com/xmlschemas/TrackPointExtension/v1\" \r\ncreator=\"${Creator}\" \r\nversion=\"1.1\" \r\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \r\nxsi:schemaLocation=\"http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd\">`\r\n\r\nconst GpxFooter = `\r\n</gpx>`\r\n\r\nclass GpxHelper {\r\n    static getMetadata(){\r\n        return `\r\n<metadata>\r\n    <link href=\"http://${Creator}\">\r\n        <text>${Creator}</text>\r\n    </link>\r\n    <time>${new Date().toISOString()}</time>\r\n</metadata>`\r\n    }\r\n\r\n    static getWaypoint(location){\r\n        return `\r\n<wpt lat=\"${location.coordinates.lat}\" lon=\"${location.coordinates.lon}\">\r\n    <name>${location.name} [${location.attractivness}]</name>\r\n    <desc>${location.description}</desc>\r\n</wpt>`\r\n    }\r\n}\r\n\r\nexport default class GpxFileGenerator{\r\n    static generate(locations){\r\n        return new Promise((resolve, reject)=>{\r\n            //File headers\r\n            var fileContent = XmlSchema + GpxHeader;\r\n            //File metadata\r\n            fileContent += GpxHelper.getMetadata();\r\n            //Waypoints\r\n            for(let index in locations){\r\n                let location = locations[index];\r\n                if(location.coordinates){\r\n                    fileContent += GpxHelper.getWaypoint(location);\r\n                }else{\r\n                    reject(`The ${location.name} location has incorrect gps coordinates.`);\r\n                }\r\n            }\r\n            //File closure\r\n            fileContent += GpxFooter;\r\n            resolve(fileContent);\r\n        })\r\n    }\r\n}","import GpxFileGenerator from './GpxFileGenerator';\r\n\r\nexport default class GpxFileDownloader {\r\n\r\n  static download = (locations) => {\r\n    GpxFileGenerator\r\n    .generate(locations)\r\n    .then(fileContent => this._showDownloadDialog(fileContent));\r\n   }\r\n\r\n  static _showDownloadDialog = (fileContent) => {\r\n    var element = document.createElement('a');\r\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(fileContent));\r\n    element.setAttribute('download', `PlanYourTrip_${new Date().toISOString()}.gpx`);\r\n  \r\n    element.style.display = 'none';\r\n    document.body.appendChild(element);\r\n  \r\n    element.click();\r\n  \r\n    document.body.removeChild(element);\r\n  }\r\n}","import React, {useReducer, useContext, createContext} from 'react';\r\nimport store from 'store'\r\n\r\nconst EmptyState = {\r\n    locations: [],\r\n    locationSelectedOnMap: null\r\n}\r\n\r\nexport const LocationsStateActions = {\r\n    addLocation: 'addLocation',\r\n    removeLocation: 'removeLocation',\r\n    editLocation: 'editLocation',\r\n    selectOnMap: 'selectOnMap',\r\n    removeAllLocations: 'removeAllLocations'\r\n}\r\n\r\nexport const LocationsStateContext = createContext();\r\n\r\nexport const LocationsStateProvider = ({children}) => {\r\n    return (\r\n        <LocationsStateContext.Provider value={useReducer(_reducer, _restoreLocations())}>\r\n            {children}\r\n        </LocationsStateContext.Provider>\r\n    )\r\n}\r\n\r\nexport var useLocationsState = () => useContext(LocationsStateContext);\r\n\r\nvar _storeLocations = (state) => {\r\n    store.set('locationsState', state);\r\n}\r\n\r\nvar _restoreLocations = () => {\r\n   return store.get('locationsState', EmptyState);\r\n}\r\n\r\nvar _reducer = (state, action) => {\r\n    var newState = {};\r\n\r\n    switch(action.type){\r\n        case LocationsStateActions.addLocation: \r\n            newState =  {...state, locations: [...state.locations, action.data]};\r\n            break;\r\n        case LocationsStateActions.removeLocation:\r\n            var updatedLocations = state.locations.filter(l => l.id !== action.data.id) || [];\r\n            newState = {...state, locations: updatedLocations};\r\n            break;\r\n        case LocationsStateActions.editLocation:\r\n            var editedItemIndex = state.locations.findIndex(l => l.id === action.data.id);\r\n            state.locations[editedItemIndex] = action.data;\r\n            newState = {...state, locations: [...state.locations]};\r\n            break;\r\n        case LocationsStateActions.selectOnMap:\r\n            newState = {...state, locationSelectedOnMap: action.data};\r\n            break;\r\n        case LocationsStateActions.removeAllLocations:\r\n            newState = {...state, locations: []};\r\n            break;\r\n        default:\r\n            newState = state;    \r\n            console.error(`[LocationsStatus] Action: \"${action.type}\" was not defined.`);\r\n    }\r\n\r\n    _storeLocations(newState);\r\n    return newState;\r\n}","import React, {createContext, useContext, useReducer} from 'react'\r\n\r\nexport const ModalTypes = {\r\n    addLocation: 'addLocation',\r\n    editLocation: 'editLocation',\r\n    search: 'search',\r\n    confirmation: 'confirmation',\r\n    addNewLocationSelect: 'addNewLocationSelect'\r\n}\r\n\r\nexport const ModalStateAction = {\r\n    show: 'show',\r\n    hide: 'hide',\r\n    update: 'update'\r\n}\r\n\r\nconst ModalState = {\r\n    type: \"\",\r\n    isVisible: false,\r\n    data: {}\r\n}\r\n\r\nvar _reducer = (state, action) => {\r\n    switch(action.type){\r\n        case ModalStateAction.show:\r\n            return {...state, data: action.data, type: action.modalType, isVisible: true};\r\n        case ModalStateAction.hide: \r\n            return {data: null, type: null, isVisible: false};\r\n        case ModalStateAction.update:\r\n            return {...state, data: action.data};\r\n        default: \r\n            console.error(`[ModalStatus] Action: \"${action.type}\" was not defined.`);\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const ModalContext = createContext(ModalState);\r\n\r\nexport const ModalStateProvider = ({children}) => {\r\n    return (\r\n        <ModalContext.Provider value={useReducer(_reducer, ModalState)}>\r\n            {children}\r\n        </ModalContext.Provider>\r\n    )\r\n}\r\n\r\nexport var useModalState = () => useContext(ModalContext);","import React from 'react';\r\nimport GpxFileDownloader from '../../Common/GpxFileDownloader'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useLocationsState, LocationsStateActions } from '../../State/LocationsState'\r\nimport { useModalState, ModalStateAction, ModalTypes } from '../../State/ModalStateProvider'\r\n\r\nvar LocationsViewMenu = (props) => {\r\n  const [{locations}, dispatchLocations] = useLocationsState();\r\n  const [{}, dispatchModal] = useModalState();\r\n\r\n  return (\r\n    <div className=\"locations-view-menu-container\">\r\n        <ul className=\"locations-view-menu\">\r\n          <li className=\"locations-view-menu-item\" onClick={props.onListSelected}>\r\n            <FontAwesomeIcon icon='th-list' className='fa-2x' title='show as list'/>\r\n          </li>\r\n          <li className=\"locations-view-menu-item\" onClick={props.onGridSelected}>\r\n            <FontAwesomeIcon icon='th-large' className='fa-2x' title='show as grid'/>\r\n          </li>\r\n          <li className=\"locations-view-menu-item\">\r\n            <FontAwesomeIcon \r\n              icon=\"trash-alt\" \r\n              title=\"remove all locations\" \r\n              className=\"location-delete fa-2x\" \r\n              onClick={()=>dispatchLocations({type: LocationsStateActions.removeAllLocations})}/>\r\n          </li>\r\n          <li className=\"locations-view-menu-item\">\r\n            <FontAwesomeIcon \r\n              icon=\"file-download\" \r\n              title=\"generate gpx file\" \r\n              className=\"location-delete fa-2x\" \r\n              onClick={()=>GpxFileDownloader.download(locations)}/>\r\n          </li>\r\n          <li className=\"locations-view-menu-item\">\r\n            <FontAwesomeIcon\r\n              icon=\"search-plus\"\r\n              title=\"add new location\"\r\n              className=\"fa-2x\"\r\n              onClick={()=>dispatchModal({type: ModalStateAction.show, modalType: ModalTypes.addNewLocationSelect})}/>\r\n          </li>\r\n        </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LocationsViewMenu;","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nvar LocationButtons = ({onEdit, onRemove}) => {\r\n    return (\r\n        <div className=\"location-card-buttons-container\">\r\n            <button\r\n                title=\"edit location\" \r\n                onClick={onEdit}\r\n                className=\"location-card-button location-card-button-left\">\r\n                <FontAwesomeIcon icon=\"edit\" /> Edit\r\n            </button>\r\n            <button \r\n                title=\"remove location\" \r\n                onClick={onRemove}\r\n                className=\"location-card-button\">\r\n                <FontAwesomeIcon icon=\"trash-alt\" /> Remove\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LocationButtons","import React, {useState, useEffect} from 'react';\r\n\r\nconst NUMER_OF_STARS = 5;\r\n\r\nvar LocationAttractivnessButton = ({value, onSelect = ()=>{}, isActive = false}) => {\r\n    const [stars, setStars] = useState();\r\n\r\n    useEffect(()=>{\r\n        setStars(getStars(value));\r\n    }, [value])\r\n\r\n    var getStars = (value) => {\r\n        var output = [...Array(NUMER_OF_STARS)];\r\n\r\n        output.map((item, index) => {\r\n            if(index>value){\r\n                output[index] = <span \r\n                                    className={isActive ? \"location-attractivness-star\" : \"location-attractivness-star-inactive\"} \r\n                                    onClick={()=>onSelect(index)} \r\n                                    key={index}>☆</span>\r\n            }\r\n            else output[index] = <span \r\n                                    className={isActive ? \"location-attractivness-star-selected\" : \"location-attractivness-star-selected-inactive\"} \r\n                                    onClick={()=>onSelect(index)} \r\n                                    key={index}>☆</span>\r\n        })\r\n        return output.reverse();\r\n    }\r\n    \r\n    if(isActive){\r\n        return (\r\n            <div className=\"location-attractivness-container\" onMouseOver={()=>setStars(getStars(0))} onMouseOut={()=>setStars(getStars(value))}>\r\n                {stars}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"location-attractivness-container\">\r\n            {stars}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LocationAttractivnessButton;","import React from 'react';\r\nimport LocationButtons from './LocationButtons'\r\nimport LocationAttractivnessButton from './LocationAttractivnessButton'\r\n\r\nvar LocationGridItem = (props) => {\r\n  return (\r\n    <div className=\"location-card\">\r\n      <img className=\"location-card-image\" src={props.location.image} alt={props.location.name}></img>\r\n      <h5 className=\"location-card-name\" onClick={props.onSelect}>{props.location.name}</h5>\r\n      <p className=\"location-card-description\" title={props.location.description}>{props.location.description}</p>\r\n      <div className=\"location-card-bottom-container\">\r\n        <LocationAttractivnessButton value={props.location.attractivness}/>\r\n        <LocationButtons onEdit={props.onEdit} onRemove={props.onRemove} />\r\n      </div>\r\n      \r\n    </div>\r\n        \r\n  )\r\n}\r\n\r\nexport default LocationGridItem;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nvar LocationListItem = (props) => {\r\n  return (\r\n    <div className=\"location-row-container\">\r\n      <img className=\"location-row-image\" src={props.location.image} alt={props.location.name}></img>\r\n      <div className=\"location-row-name\" \r\n        title={props.location.link} \r\n        onClick={props.onSelect}>{props.location.name}</div>\r\n      <div className=\"location-row-description\" title={props.location.description}>{props.location.description}</div>\r\n      <div className=\"location-row-attractivness\">{props.location.attractivness}</div>\r\n      <div className=\"location-row-buttons\">\r\n      <FontAwesomeIcon \r\n        icon=\"trash-alt\" \r\n        title=\"remove location\" \r\n        className=\"location-row-button\" \r\n        onClick={props.onRemove}/>\r\n      <FontAwesomeIcon \r\n        icon=\"edit\" \r\n        title=\"edit location\" \r\n        className=\"location-row-button\" \r\n        onClick={props.onEdit}/>\r\n      </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default LocationListItem;","import React, { useState } from 'react';\r\nimport LocationsViewMenu from './LocationsViewMenu';\r\nimport LocationGridItem from './LocationGridItem';\r\nimport LocationListItem from './LocationListItem';\r\nimport { useLocationsState, LocationsStateActions } from '../../State/LocationsState'\r\nimport { useModalState, ModalStateAction, ModalTypes } from '../../State/ModalStateProvider'\r\n\r\nvar LocationsView = () => {\r\n  const [{locations}, dispatchlocations] = useLocationsState();\r\n  const [{}, dispatchModal] = useModalState();\r\n\r\n  var renderList = () => {\r\n    var output = locations.map((location) => (\r\n      <LocationListItem\r\n        location={location}\r\n        key={location.id}\r\n        onRemove={()=>dispatchlocations({type: LocationsStateActions.removeLocation, data: location})}\r\n        onEdit={()=>dispatchModal({type: ModalStateAction.show, data: location, modalType: ModalTypes.editLocation})} \r\n        onSelect={()=>dispatchlocations({type: LocationsStateActions.selectOnMap, data: location})}/>\r\n    ));\r\n\r\n    return <div className=\"locations-view-list-container\">{output}</div>\r\n  }\r\n\r\n  var renderGrid = () => {\r\n    var output = locations.map((location) => (\r\n      <LocationGridItem \r\n        location={location} \r\n        key={location.id}\r\n        onRemove={()=>dispatchlocations({type: LocationsStateActions.removeLocation, data: location})} \r\n        onEdit={()=>dispatchModal({type: ModalStateAction.show, data: location, modalType: ModalTypes.editLocation})} \r\n        onSelect={()=>dispatchlocations({type: LocationsStateActions.selectOnMap, data: location})}/>\r\n    ));\r\n\r\n    return <div className=\"locations-view-grid-container\">{output}</div>\r\n  }\r\n  \r\n  const [locationsView, setLocationsView] = useState('grid');\r\n\r\n  return (\r\n    <div className=\"locations-view-container\">\r\n      <div className=\"locations-view-menu\">\r\n        <LocationsViewMenu \r\n          onListSelected={()=>setLocationsView('list')} \r\n          onGridSelected={()=>setLocationsView('grid')} />      \r\n      </div>\r\n      {locationsView === 'grid' ? renderGrid() : renderList()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LocationsView;","const PATTERN = \"^([-]?\\\\d*[.]?\\\\d+)$\";\r\n\r\nconst isNumber = (value) => {\r\n    var reg = new RegExp(PATTERN);\r\n    return reg.test(value);\r\n}\r\n\r\nconst CoordinatesValidator = () => {\r\n    var isValid = (value) => {\r\n        return isNumber(value);\r\n    }\r\n\r\n    return {isValid: isValid}\r\n}\r\n\r\nexport default CoordinatesValidator;","import React, {useState, useEffect} from 'react';\r\nimport L from 'leaflet'\r\nimport CoordinatesValidator from '../../Common/CoordinatesValidator'\r\n\r\nconst defaultOptions = {\r\n    draggable: false,\r\n    style: \"locations-map-view\",\r\n    canAddMarker: false,\r\n    title:\"\"\r\n}\r\n\r\nvar MapView = ({locations, selLoc, options = defaultOptions}) => {\r\n    const [visibleMarkers, setVisibleMarkers] = useState([]);\r\n    const [mapObject, setMapObject] = useState(null);\r\n    \r\n    var setupMarker = (location, coordinates) => {\r\n        var marker = L.marker(coordinates, {...options, title: location.name})\r\n                            .addTo(mapObject)\r\n                            .bindPopup(location.name)\r\n                            .openPopup()\r\n\r\n        if(options.draggable){\r\n            marker.on('dragend', (e) => {\r\n                options.onCoordinatesUpdated(marker.getLatLng())\r\n            })\r\n        }\r\n\r\n        return marker;\r\n    }\r\n\r\n    useEffect(()=>{\r\n        var map = L.map('mapid', \r\n        {\r\n            zoom:5,\r\n            center: [51.505, -0.09]\r\n        });\r\n\r\n        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\r\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\r\n            maxZoom: 19,\r\n            id: 'mapbox.streets',\r\n            accessToken: 'pk.eyJ1IjoibWphbXJ5IiwiYSI6ImNqcmdtc3JnZjAyYTA0YXFxMDRkMG93MjYifQ.u8XNxfJHLLy3Vnbo3R40sA'\r\n        }).addTo(map);\r\n        \r\n        setMapObject(map);\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        if(mapObject)\r\n        {\r\n            visibleMarkers.forEach(location => {\r\n                location.marker.remove();\r\n            })\r\n\r\n            var markers = [];\r\n            locations.forEach(location => {\r\n                if(CoordinatesValidator().isValid(location.coordinates.lat) \r\n                && CoordinatesValidator().isValid(location.coordinates.lon))\r\n                {\r\n                    let coordinates = [location.coordinates.lat, location.coordinates.lon];\r\n                    markers.push({\r\n                        marker: setupMarker(location, coordinates),\r\n                        id: location.id\r\n                    });\r\n\r\n                    mapObject.setView(coordinates)\r\n                }\r\n            })\r\n            \r\n            setVisibleMarkers(markers);\r\n\r\n            if(options.canAddMarker){\r\n                mapObject.on('click', (e)=>{\r\n                    options.onCoordinatesUpdated(e.latlng);\r\n                })\r\n            }\r\n        }\r\n    }, [mapObject, locations])\r\n\r\n    useEffect(()=>{\r\n        if(selLoc && mapObject)\r\n        {\r\n            var selectedLocation = visibleMarkers.find(el => el.id === selectedLocation.id);\r\n            if(selectedLocation){\r\n                mapObject.setView([selectedLocation.coordinates.lat, selectedLocation.coordinates.lon]);\r\n                selectedLocation.marker.bindPopup(selectedLocation.name).openPopup();\r\n            }\r\n        }\r\n    }, [selLoc])\r\n\r\n    return ( \r\n        <div className=\"map-container\" title={options.title}>\r\n            <div className=\"row\">\r\n                <div id=\"mapid\" className={options.style}></div> \r\n            </div> \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MapView;","import React from 'react';\r\nimport {useLocationsState} from '../../State/LocationsState'\r\nimport MapView from './MapView'\r\n\r\nconst LocationsMapView = () => {\r\n    const [{locations, locationSelectedOnMap}] = useLocationsState();\r\n\r\n    return (\r\n        <MapView locations={locations} selectedLocation={locationSelectedOnMap} />\r\n    )\r\n}\r\n\r\nexport default LocationsMapView;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nvar Header = (props) => {\r\n  return (\r\n    <div className=\"header\">\r\n        <div><FontAwesomeIcon icon='globe-americas'/> Plan the Trip</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header;","import React  from 'react';\r\n\r\nvar Modal = (props) => {\r\n    return(\r\n        <div className=\"modal-background\" style={{display: props.isVisible ? \"block\" : \"none\"}}>\r\n            <div className=\"modal\">\r\n                <div className=\"modal-header\">\r\n                    {props.header}                        \r\n                </div>\r\n                <div className=\"modal-content\">\r\n                    {props.body}\r\n                </div>\r\n                <div className=\"modal-footer\" style={{display: props.footer ? \"block\" : \"none\"}}>\r\n                    {props.footer}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport MapView from './MapView'\r\n\r\nconst LocationFormMapView = ({location, onCoordinatesUpdated}) => {\r\n    var locations = [location]\r\n    var options = {\r\n        draggable: true,\r\n        autoPan: true,\r\n        onCoordinatesUpdated: onCoordinatesUpdated,\r\n        style: \"location-form-map-view\",\r\n        canAddMarker: true,\r\n        title: \"click to add/move marker\"\r\n    }\r\n\r\n    return (\r\n        <MapView locations={locations} selectedLocation={location} options={options}/>\r\n    )\r\n}\r\n\r\nexport default LocationFormMapView;","import {LocationCoordinatesForm, LocationCoordinatesFormValidator, LocationDetailsForm, LocationDetailsFormValidator} from './Steps'\r\n\r\nimport { useLocationFormState, LocationFormStateActions } from '../LocationDetailsFormState'\r\n\r\nexport const FirstStep = 0;\r\nexport const LastStep = 1;\r\n\r\nconst steps = [\r\n    {\r\n        view: LocationDetailsForm, \r\n        validator: LocationDetailsFormValidator()\r\n    }, \r\n    {\r\n        view: LocationCoordinatesForm, \r\n        validator: LocationCoordinatesFormValidator()\r\n    }]\r\n\r\nconst StepsCoordinator = () => {\r\n    const [formState, dispatchFormState] = useLocationFormState();\r\n\r\n    var next = () => {\r\n        if(canNext()){\r\n            var nextStep = formState.step + 1 === LastStep ? LastStep : formState.step + 1;\r\n            setStep(nextStep);\r\n        }\r\n    }\r\n\r\n    var previous = () => {\r\n        var previousStep = formState.step - 1 === FirstStep ? FirstStep : formState.step - 1;\r\n        setStep(previousStep);\r\n    }\r\n\r\n    var getCurrentView = () => {\r\n        return steps[formState.step].view\r\n    }\r\n\r\n    var setStep = (step) => {\r\n        dispatchFormState({type: LocationFormStateActions.setStep, data: step});\r\n    }\r\n\r\n    var canNext = () => {\r\n        return steps[formState.step].validator.isValid(formState.location);\r\n    }\r\n\r\n    return {\r\n        next: next, \r\n        canNext: canNext,\r\n        previous: previous,\r\n        getCurrentView: getCurrentView\r\n    }\r\n}\r\n\r\nexport default StepsCoordinator;","import React from 'react'\r\nimport LocationAttractivnessButton from '../../../Locations/LocationAttractivnessButton'\r\nimport LocationFormMapView from '../../../MapView/LocationFormMapView'\r\nimport CoordinatesValidator from '../../../../Common/CoordinatesValidator'\r\n\r\nimport { useLocationFormState, LocationFormStateActions } from '../LocationDetailsFormState'\r\n\r\nconst ERROR_MESSAGE = \"Incorrect value\";\r\n\r\nexport const LocationDetailsForm = () => {\r\n    const [formState, dispatchFormState] = useLocationFormState();\r\n\r\n    var handleInputChanged = (e) => {\r\n        dispatchFormState({type: LocationFormStateActions.updateLocation, data: {...formState.location, [e.target.name]: e.target.value }})\r\n    }\r\n\r\n    var handleAttractivnessChanged = (value) => {\r\n        dispatchFormState({type: LocationFormStateActions.updateLocation, data: {...formState.location, attractivness: value}})\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <div >\r\n                <div className=\"location-edit-form-item\">\r\n                    <label htmlFor=\"location-name\" className=\"col-form-label\">Name (required)</label>\r\n                    <input \r\n                        name=\"name\" \r\n                        className=\"form-control\" \r\n                        id=\"location-name\" \r\n                        onChange={handleInputChanged}\r\n                        value={formState.location.name || ''}\r\n                        autoFocus/>\r\n                </div>\r\n                \r\n                <div className=\"location-edit-form-item\">\r\n                    Atractivness:\r\n                    <LocationAttractivnessButton \r\n                            value={formState.location.attractivness || ''} \r\n                            onSelect={(value)=>{handleAttractivnessChanged(value)}} \r\n                            isActive={true}/>\r\n                </div>\r\n                <div className=\"location-edit-form-item\">\r\n                    <label htmlFor=\"location-description\">Description</label>\r\n                    <textarea \r\n                        name=\"description\" \r\n                        className=\"form-control\" \r\n                        rows=\"5\" id=\"location-description\" \r\n                        onChange={handleInputChanged}\r\n                        value={formState.location.description || ''}></textarea>\r\n                </div>\r\n                \r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport const LocationDetailsFormValidator = () => {\r\n\r\n    var isValid = (location) => {\r\n        return !!location.name;\r\n    }\r\n\r\n    return {isValid: isValid};\r\n}\r\n\r\nexport const LocationCoordinatesForm = () => {\r\n    const [formState, dispatchFormState] = useLocationFormState();\r\n\r\n    var handleCoordinatesChanged = (e) => {\r\n        dispatchFormState({type: LocationFormStateActions.updateLocation, data: \r\n                                                                        {\r\n                                                                            ...formState.location, \r\n                                                                            coordinates: {\r\n                                                                                ...formState.location.coordinates, \r\n                                                                                [e.target.name]: e.target.value \r\n                                                                        }}})\r\n}\r\n\r\n    var handleMapCoordinatesChanged = (coordinates) => {\r\n        dispatchFormState({type: LocationFormStateActions.updateLocation, data: \r\n                                                                                {\r\n                                                                                    ...formState.location,\r\n                                                                                    coordinates: { \r\n                                                                                        lat: coordinates.lat, \r\n                                                                                        lon: coordinates.lng \r\n                                                                                }}})\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <div className=\"location-edit-form-row\">\r\n                <div className=\"location-edit-form-item\">\r\n                    <label htmlFor=\"location-coordinates-lat\" className=\"col-form-label\">Gps latitude</label>\r\n                    <input \r\n                        name=\"lat\" \r\n                        className=\"form-control\" \r\n                        id=\"location-coordinates-lat\" \r\n                        onChange={handleCoordinatesChanged}\r\n                        value={formState.location.coordinates.lat || ''}/>\r\n                        <div className=\"location-form-error\">{CoordinatesValidator().isValid(formState.location.coordinates.lat) ? \"\" : ERROR_MESSAGE}</div> \r\n                </div>\r\n                \r\n                <div className=\"location-edit-form-item\">\r\n                    <label htmlFor=\"location-coordinates-lon\" className=\"col-form-label\">Gps longitude</label>\r\n                    <input \r\n                        name=\"lon\" \r\n                        className=\"form-control\" \r\n                        id=\"location-coordinates-lon\" \r\n                        onChange={handleCoordinatesChanged}\r\n                        value={formState.location.coordinates.lon || ''}/>\r\n                        <div className=\"location-form-error\">{CoordinatesValidator().isValid(formState.location.coordinates.lon) ? \"\" : ERROR_MESSAGE}</div> \r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"location-edit-form-row\">\r\n                    <LocationFormMapView location={formState.location} onCoordinatesUpdated={handleMapCoordinatesChanged}/>\r\n                </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport const LocationCoordinatesFormValidator = () =>{\r\n    var isValid = (location) => {\r\n        return (CoordinatesValidator().isValid(location.coordinates.lat) && CoordinatesValidator().isValid(location.coordinates.lon))\r\n    }\r\n\r\n    return {isValid: isValid};\r\n} ","import React, {createContext, useContext, useReducer} from 'react';\r\nimport {FirstStep, LastStep} from './Steps/StepsCoordinator'\r\nimport { LocationsStateActions } from '../../../State/LocationsState';\r\n\r\nexport const LocationFormStateActions = {\r\n    setStep: \"setStep\",\r\n    updateLocation: \"updateLocation\",\r\n    updateCoordinates: \"updateCoordinates\",\r\n    setError: \"setError\",\r\n    clearError: \"clearError\"\r\n}\r\n\r\nconst LocationFormContext = createContext();\r\n\r\nexport const LocationFormStateProvider = ({children}) => {\r\n    return (\r\n        <LocationFormContext.Provider value={useReducer(_reducer, LocationFormState)}>\r\n            {children}\r\n        </LocationFormContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useLocationFormState = () => useContext(LocationFormContext);\r\n\r\nconst LocationFormState = {\r\n    step: FirstStep,\r\n    location: {},\r\n    errors: {}\r\n}\r\n\r\nvar _reducer = (state, action) => {\r\n    switch(action.type){\r\n        case LocationFormStateActions.setError:\r\n            return {...state, errors: {...state.errors, [action.data.name]:action.data.value}}\r\n        case LocationFormStateActions.clearError:\r\n            return {...state, errors: {...state.errors, [action.data.name]:null}}\r\n        case LocationFormStateActions.updateLocation:\r\n            return {...state, location: action.data};\r\n        case LocationFormStateActions.setStep:\r\n            return {...state, step: action.data};\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useModalState, ModalStateAction } from '../../State/ModalStateProvider'\r\n\r\nconst ModalHeader = (props) => {\r\n    const [modalModel, dispatchModal] = useModalState();\r\n\r\n    return(\r\n        <div className=\"modal-header-container\">\r\n            <div>{props.title}</div>\r\n            <div onClick={()=>{dispatchModal({type: ModalStateAction.hide})}} className=\"modal-header-close-button\">\r\n                <FontAwesomeIcon icon='window-close' title='close'/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ModalHeader;","import React, {useEffect} from 'react';\r\nimport { useLocationFormState, LocationFormStateActions, LocationFormStateProvider } from './LocationDetailsFormState'\r\nimport ModalHeader from '../ModalHeader'\r\nimport StepsCoordinator, {FirstStep, LastStep} from './Steps/StepsCoordinator'\r\n\r\nexport const useLocationFormBuilder = () => {\r\n    \r\n    var build = ({title, location, onSubmit, onCancel}) => {\r\n        return {\r\n            header: <ModalHeader title={title} onCancel={onCancel}/>,\r\n            body: \r\n                    <LocationDetailsFormBody location={location}></LocationDetailsFormBody>,\r\n            footer: \r\n                    <LocationDetailsFooter onSubmit={onSubmit}></LocationDetailsFooter>,\r\n            state: LocationFormStateProvider\r\n        }\r\n    }\r\n\r\n    return build;\r\n}\r\n\r\nconst LocationDetailsFooter = ({onSubmit}) => {\r\n    const [formState, dispatchFormState] = useLocationFormState();\r\n    const coordinator = StepsCoordinator();\r\n\r\n    var renderPrevious = () => {\r\n        if(formState.step > FirstStep){\r\n            return (\r\n                <button \r\n                    type=\"button\" \r\n                    className=\"btn\"     \r\n                    onClick={() => coordinator.previous()}>\r\n                Previous\r\n                </button>\r\n            )\r\n        }\r\n    }\r\n\r\n    var renderNext = () => {\r\n        if(formState.step < LastStep){\r\n            return (\r\n                <button \r\n                    type=\"button\" \r\n                    className=\"btn\" \r\n                    onClick={() => coordinator.next()}\r\n                    disabled={!coordinator.canNext()}>\r\n                Next</button>\r\n            )\r\n        }\r\n    }\r\n\r\n    var renderSubmit = () => {\r\n        if(formState.step === LastStep){\r\n            return (\r\n                <button \r\n                    type=\"button\" \r\n                    className=\"btn btn-primary\" \r\n                    onClick={() => \r\n                        onSubmit(formState.location)}\r\n                    disabled={!coordinator.canNext()}>\r\n                Save</button>\r\n            )\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"location-edit-form-buttons\">\r\n            {renderPrevious()}{renderNext()}{renderSubmit()}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst LocationDetailsFormBody = (props) => {\r\n    const [formState, dispatchFormState] = useLocationFormState();\r\n\r\n    //setup state values\r\n    useEffect(()=>{\r\n        dispatchFormState({type: LocationFormStateActions.updateLocation, data: props.location});\r\n    }, [])\r\n\r\n    var renderStep = () => {\r\n        return renderStepView(StepsCoordinator().getCurrentView());\r\n    }\r\n\r\n    var renderStepView = (View, props) => {\r\n        return <View {...props}/>\r\n    }\r\n\r\n    return(\r\n        <div className=\"location-edit-form-container\">\r\n            {renderStep()}\r\n        </div>\r\n    )\r\n}\r\n","export default class locationDetails {\r\n  constructor(name, description, attractivness, coordinates, image, link){\r\n    this.name = name;\r\n    this.description = description;\r\n    this.attractivness = attractivness || 1;\r\n    this.coordinates = coordinates;\r\n    this.image = image;\r\n    this.link = link;\r\n    this.id = (+new Date()).toString(32);\r\n  }\r\n    id;\r\n    name;\r\n    description;\r\n    attractivness;\r\n    coordinates;\r\n    image;\r\n    link;\r\n  };","export default class LanguageProvider {\r\n    static _currentLanguage = \"\";\r\n    \r\n    static set(language){\r\n        this._currentLanguage = language;\r\n    } \r\n\r\n    static get(){\r\n        if(this._currentLanguage === \"\"){\r\n            this._currentLanguage = (navigator.language || navigator.userLanguage).substr(0, 2);\r\n        }\r\n\r\n        return this._currentLanguage;\r\n    }\r\n}","import wiki from 'wikijs';\r\nimport locationDetails from '../components/Locations/LocationdDetailsDto';\r\nimport LanguageProvider from '../Common/LanguageProvider';\r\n\r\nconst NumberOfResults = 5;\r\nconst API_URL = `https://${LanguageProvider.get()}.wikipedia.org/w/api.php`;\r\n\r\nexport default class WikipediaAPIWrapper{\r\n    static searchResult = {};\r\n\r\n    static search(input){\r\n        return wiki({apiUrl: API_URL})\r\n        .search(input)\r\n        .then(data => data.results.splice(0, NumberOfResults))\r\n    }\r\n\r\n    static getDetails(input){\r\n        return wiki({apiUrl: API_URL})\r\n        .page(input)\r\n        .then(page => {return Promise.all([page.raw.title, page.summary(), page.coordinates(), page.mainImage()])})\r\n        .then(([name, details, geo, img] )=> new locationDetails(name, details, 0, geo, img, \"\"))\r\n    }\r\n}","import React from 'react';\r\n\r\nvar SearchResult = (props) => {\r\n\r\n  var renderResults = () => { \r\n    let output = [];\r\n\r\n    for(let index in props.results){\r\n      output.push(\r\n      <div \r\n        className=\"search-result-item\"\r\n        onClick={()=>props.onSelected(props.results[index])}\r\n        key={index}>\r\n        {props.results[index]}\r\n      </div>)\r\n    }\r\n\r\n    return output;\r\n  }\r\n\r\n  var renderError = () => {\r\n    return <div className=\"search-result-error\">No resutls</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-result-container\">\r\n        {props.results && props.results.length === 0 ? renderError() : renderResults()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchResult;","import React, { useState, useEffect } from 'react';\r\nimport WikipediaAPIWrapper from '../../Common/WikipediaAPIWrapper'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport SearchResult from './SearchResult';\r\nimport { ModalStateAction, useModalState, ModalTypes } from '../../State/ModalStateProvider'\r\n \r\nconst SearchTimeout = 700;\r\n\r\nvar Search = () => {\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [timer, setTimer] = useState(null);\r\n  const [searchResults, setSearchResults] = useState(null);\r\n\r\n  const [{}, dispatchModal] = useModalState();\r\n\r\n  var setupTimer = () => {\r\n    clearTimeout(timer);\r\n    setTimer(setTimeout(handleSearchInputTimeout, SearchTimeout));\r\n  }\r\n\r\n  var handleSearchInputTimeout = () => { \r\n    WikipediaAPIWrapper.search(searchValue).then(results => setSearchResults(results));\r\n  }\r\n\r\n  var handleSelection = (selection) => {\r\n    setSearchResults(null);\r\n    setSearchValue(\"\");\r\n \r\n    WikipediaAPIWrapper.getDetails(selection).then(location => {\r\n      dispatchModal({type: ModalStateAction.show, data: location, modalType: ModalTypes.addLocation});\r\n    });\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(searchValue !== \"\")\r\n    {\r\n      setupTimer();\r\n    }\r\n  }, [searchValue])\r\n\r\n  return (\r\n    <div className=\"Search container\">\r\n      <div className=\"input-group mb-3\">\r\n        <div className=\"input-group-prepend\">\r\n          <span className=\"input-group-text\"><FontAwesomeIcon icon=\"search-location\" className=\"fa-2x\"/></span>\r\n        </div>\r\n      <input type=\"text\" className=\"form-control\" placeholder=\"enter name\" onChange={e => setSearchValue(e.target.value)} value={searchValue} autoFocus/>\r\n      </div>\r\n    <SearchResult results={searchResults} onSelected={handleSelection}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search;","import React from 'react'\r\nimport { useModalState, ModalStateAction, ModalTypes } from '../../State/ModalStateProvider'\r\n\r\nconst DefaultCoordinates = {\r\n    lat: 0,\r\n    lon: 0\r\n}\r\n\r\nvar AddNewLocationSelect = () => {\r\n    const [{}, dispatchModal] = useModalState();\r\n    \r\n    return (\r\n        <div className=\"add-new-location\">\r\n            <button type=\"button\" onClick={()=>dispatchModal(\r\n                {\r\n                    type: ModalStateAction.show, \r\n                    modalType: ModalTypes.search\r\n                })} className=\"btn\">Search location</button>\r\n            <button type=\"button\" onClick={()=>dispatchModal(\r\n                {\r\n                    type: ModalStateAction.show, \r\n                    data: \r\n                        {\r\n                            coordinates: DefaultCoordinates\r\n                        }, \r\n                    modalType: ModalTypes.addLocation})} className=\"btn\">Add location manually</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddNewLocationSelect;","import React, { useState, useEffect } from 'react'\r\nimport Modal from './Modal'\r\nimport { useModalState, ModalTypes, ModalStateAction } from '../../State/ModalStateProvider'\r\nimport { useLocationsState, LocationsStateActions } from '../../State/LocationsState'\r\nimport { useLocationFormBuilder } from './LocationDetailsForm/LocationDetailsForm'\r\nimport ModalHeader from './ModalHeader'\r\nimport Search from '../Search/Search'\r\nimport AddNewLocationSelect from './AddNewLocationSelect'\r\n\r\nconst _emptyModalContent = {header: \"\", body: \"\", footer: \"\", state: \"\"};\r\n\r\nvar useModalContentFactory = () => {\r\n    const [modalModel, dispatchModal] = useModalState();\r\n    const [{}, dispatchLocations] = useLocationsState();\r\n\r\n    var create = (modalType) => {\r\n        var locationFormBuilder = useLocationFormBuilder();\r\n\r\n        switch(modalType){\r\n            case ModalTypes.addLocation:\r\n                return locationFormBuilder(\r\n                    {\r\n                        title: \"Add location\",\r\n                        location: modalModel.data,\r\n                        onSubmit: (data)=>{\r\n                            dispatchLocations({\r\n                                type: LocationsStateActions.addLocation, \r\n                                data: data})\r\n                            dispatchModal({\r\n                                type: ModalStateAction.hide})}\r\n                    }\r\n                )\r\n                \r\n            case ModalTypes.editLocation:\r\n                return locationFormBuilder(\r\n                    {\r\n                        title: \"Edit location\",\r\n                        location: modalModel.data,\r\n                        onSubmit: (data)=>{\r\n                            dispatchLocations({\r\n                                type: LocationsStateActions.editLocation, \r\n                                data: data})\r\n                            dispatchModal({\r\n                                type: ModalStateAction.hide})}\r\n                    }\r\n                )\r\n                    \r\n            case ModalTypes.search: \r\n                return {\r\n                    header: <ModalHeader title=\"Search location\"/>,\r\n                    body: <Search />,\r\n                    footer: null\r\n                }\r\n\r\n            case ModalTypes.addNewLocationSelect:\r\n                return {\r\n                    header: <ModalHeader title=\"Select option\"/>,\r\n                    body: <AddNewLocationSelect />,\r\n                    footer: null\r\n                }\r\n\r\n        default: \r\n            console.log(`[ModalFactory] Incorrect modal type: \"${modalType}\"`);\r\n            return _emptyModalContent;\r\n    }}\r\n    \r\n    return create;\r\n}\r\n\r\nvar ModalContainer = () => {\r\n    const [modalContent, setModalContent] = useState(_emptyModalContent);\r\n    const [modalModel] = useModalState();\r\n    const factory = useModalContentFactory();\r\n\r\n    var renderModal = () => {\r\n        var render = (ModalState) => {\r\n            if(ModalState) {\r\n                return  <ModalState>\r\n                            <Modal \r\n                                isVisible={modalModel.isVisible} \r\n                                header={modalContent.header}\r\n                                body={modalContent.body}\r\n                                footer={modalContent.footer}/>\r\n                        </ModalState>}\r\n            else {\r\n                return <Modal \r\n                    isVisible={modalModel.isVisible} \r\n                    header={modalContent.header}\r\n                    body={modalContent.body}\r\n                    footer={modalContent.footer}/>\r\n            }\r\n        }\r\n\r\n        return render(modalContent.state);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setModalContent(factory(modalModel.type));\r\n    }, [modalModel])\r\n\r\n    return renderModal();\r\n}\r\n\r\nexport default ModalContainer\r\n","import React, { useEffect } from 'react';\r\nimport { useLocationsState, LocationsStateActions } from '../State/LocationsState'\r\n\r\nconst LocationsDataDownloader = () => {\r\n    const [{ locations }, dispatchLocations] = useLocationsState();\r\n\r\n    useEffect(() => {\r\n        fetch(\"https://localhost:5001/Locations\")\r\n            .then(response => {\r\n                if (response.status !== 200) {\r\n                    console.error(\"Download error!\")\r\n                }\r\n                else {\r\n                    response.json()\r\n                        .then(data => {\r\n                            if (data) {\r\n                                data.forEach(location => {\r\n                                    storeLocation(location);\r\n                                });\r\n                            }\r\n\r\n                        })\r\n                }\r\n            })\r\n    }, [])\r\n\r\n    var storeLocation = (location) => {\r\n        dispatchLocations({\r\n            type: LocationsStateActions.addLocation,\r\n            data: location\r\n        })\r\n    }\r\n\r\n    return (<div></div>);\r\n}\r\n\r\nexport default LocationsDataDownloader;","\r\nimport './Styles/App.css';\r\nimport './Styles/LocationsView.css'\r\nimport './Styles/LocationsViewMenu.css'\r\nimport './Styles/LocationViewRow.css'\r\nimport './Styles/LocationViewCard.css'\r\nimport './Styles/LocationAttractivness.css'\r\nimport './Styles/Modal.css'\r\nimport './Styles/LocationEditForm.css'\r\nimport './Styles/SearchResult.css'\r\nimport './Styles/Header.css'\r\nimport './Styles/MapView.css'\r\nimport './Styles/AddNewLocationSelect.css'\r\n\r\nimport React from 'react';\r\nimport LocationsView from './components/Locations/LocationsView'\r\nimport LocationsMapView from './components/MapView/LocationsMapView'\r\nimport Header from './components/Header'\r\nimport ModalContainer from './components/modals/ModalContainer'\r\nimport { LocationsStateProvider } from './State/LocationsState'\r\nimport { ModalStateProvider } from './State/ModalStateProvider'\r\nimport LocationsDataDownloader from './components/LocationsDataDownloader'\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { fas } from '@fortawesome/free-solid-svg-icons'\r\n\r\nlibrary.add(fas)\r\n\r\nvar App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <LocationsStateProvider>\r\n      <LocationsDataDownloader />\r\n      <ModalStateProvider>\r\n        <ModalContainer />\r\n        <Header />\r\n        <div className=\"app-content-container\">\r\n          <div className=\"app-locations-view\">\r\n            <LocationsView />\r\n          </div>\r\n          <div className=\"app-map-view\">\r\n            <LocationsMapView />\r\n          </div>\r\n        </div>\r\n      </ModalStateProvider>\r\n      </LocationsStateProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}